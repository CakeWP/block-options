!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=178)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){var o=n(65),i=n(7);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?i(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var o=n(66);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},function(e,t){!function(){e.exports=this.lodash}()},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports=n(152)()},function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)&&o.length){var s=i.apply(null,o);s&&e.push(s)}else if("object"===r)for(var a in o)n.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(o=function(){return i}.apply(t,[]))||(e.exports=o)}()},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){!function(){e.exports=this.React}()},function(e,t,n){var o=n(45),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){!function(){e.exports=this.regeneratorRuntime}()},function(e,t,n){var o=n(80),i=n(85);e.exports=function(e,t){var n=i(e,t);return o(n)?n:void 0}},function(e,t,n){var o=n(159),i=n(160),r=n(161);e.exports=function(e,t){return o(e)||i(e,t)||r()}},function(e,t,n){var o=n(26),i=n(81),r=n(82),s="[object Null]",a="[object Undefined]",c=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:s:c&&c in Object(e)?i(e):r(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var o=n(41),i=n(67),r=n(146),s=n(14);e.exports=function(e,t){return(s(e)?o:r)(e,i(t,3))}},function(e,t,n){var o;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(o=function(){return r}.call(t,n,t,e))||(e.exports=o)}()},function(e,t,n){var o,i,r;
/*!
  * $script.js JS loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz 2014 | License MIT
  */r=function(){var e,t,n=document,o=n.getElementsByTagName("head")[0],i=!1,r="push",s="readyState",a="onreadystatechange",c={},l={},u={},p={};function d(e,t){for(var n=0,o=e.length;n<o;++n)if(!t(e[n]))return i;return 1}function b(e,t){d(e,(function(e){return t(e),1}))}function m(t,n,o){t=t[r]?t:[t];var i=n&&n.call,s=i?n:o,a=i?t.join(""):n,h=t.length;function g(e){return e.call?e():c[e]}function v(){if(!--h)for(var e in c[a]=1,s&&s(),u)d(e.split("|"),g)&&!b(u[e],g)&&(u[e]=[])}return setTimeout((function(){b(t,(function t(n,o){return null===n?v():(o||/^https?:\/\//.test(n)||!e||(n=-1===n.indexOf(".js")?e+n+".js":e+n),p[n]?(a&&(l[a]=1),2==p[n]?v():setTimeout((function(){t(n,!0)}),0)):(p[n]=1,a&&(l[a]=1),void f(n,v)))}))}),0),m}function f(e,i){var r,c=n.createElement("script");c.onload=c.onerror=c[a]=function(){c[s]&&!/^c|loade/.test(c[s])||r||(c.onload=c[a]=null,r=1,p[e]=2,i())},c.async=1,c.src=t?e+(-1===e.indexOf("?")?"?":"&")+t:e,o.insertBefore(c,o.lastChild)}return m.get=f,m.order=function(e,t,n){!function o(i){i=e.shift(),e.length?m(i,o):m(i,t,n)}()},m.path=function(t){e=t},m.urlArgs=function(e){t=e},m.ready=function(e,t,n){e=e[r]?e:[e];var o,i=[];return!b(e,(function(e){c[e]||i[r](e)}))&&d(e,(function(e){return c[e]}))?t():(o=e.join("|"),u[o]=u[o]||[],u[o][r](t),n&&n(i)),m},m.done=function(e){m([null],e)},m},e.exports?e.exports=r():void 0===(i="function"==typeof(o=r)?o.call(t,n,t,e):o)||(e.exports=i)},function(e,t,n){var o=n(157);e.exports=function(e,t){if(null==e)return{};var n,i,r=o(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}},function(e,t,n){var o=n(70),i=n(71),r=n(72),s=n(73),a=n(74);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var o=n(43);e.exports=function(e,t){for(var n=e.length;n--;)if(o(e[n][0],t))return n;return-1}},function(e,t,n){var o=n(13).Symbol;e.exports=o},function(e,t,n){var o=n(16)(Object,"create");e.exports=o},function(e,t,n){var o=n(94);e.exports=function(e,t){var n=e.__data__;return o(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var o=n(40),i=1/0;e.exports=function(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},function(e,t,n){var o=n(58),i=n(59),r=n(60);e.exports=function(e){return o(e)||i(e)||r()}},function(e,t){function n(e,t,n,o,i,r,s){try{var a=e[r](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(o,i)}e.exports=function(e){return function(){var t=this,o=arguments;return new Promise((function(i,r){var s=e.apply(t,o);function a(e){n(s,i,r,a,c,"next",e)}function c(e){n(s,i,r,a,c,"throw",e)}a(void 0)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n,o){return"boolean"==typeof e?e:"function"==typeof e?e(t,n,o):!(!0!=!!e||!e)},i=function(e,t){return Object.hasOwnProperty.call(e,t)},r=function(e,t,n,o){return o?new Error(o):new Error("Required "+e[t]+" `"+t+"` was not specified in `"+n+"`.")};t.default=function(e,t,n){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(t&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,n),function(s,a,c){for(var l=arguments.length,u=Array(3<l?l-3:0),p=3;p<l;p++)u[p-3]=arguments[p];return o(t,s,a,c)?i(s,a)?e.apply(void 0,[s,a,c].concat(u)):r(s,a,c,n):e.apply(void 0,[s,a,c].concat(u))}}},function(e,t,n){var o=n(16)(n(13),"Map");e.exports=o},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var o=n(86),i=n(93),r=n(95),s=n(96),a=n(97);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var o=n(115),i=n(122),r=n(38);e.exports=function(e){return r(e)?o(e):i(e)}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var o=n(44),i=n(37);e.exports=function(e){return null!=e&&i(e.length)&&!o(e)}},function(e,t,n){var o=n(14),i=n(40),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(s.test(e)||!r.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var o=n(18),i=n(19),r="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&o(e)==r}},function(e,t){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var o=n(24),i=n(75),r=n(76),s=n(77),a=n(78),c=n(79);function l(e){var t=this.__data__=new o(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=a,l.prototype.set=c,e.exports=l},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var o=n(18),i=n(34),r="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=o(e);return t==s||t==a||t==r||t==c}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(63))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var o=n(98),i=n(19);e.exports=function e(t,n,r,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:o(t,n,r,s,e,a))}},function(e,t,n){var o=n(99),i=n(102),r=n(103),s=1,a=2;e.exports=function(e,t,n,c,l,u){var p=n&s,d=e.length,b=t.length;if(d!=b&&!(p&&b>d))return!1;var m=u.get(e);if(m&&u.get(t))return m==t;var f=-1,h=!0,g=n&a?new o:void 0;for(u.set(e,t),u.set(t,e);++f<d;){var v=e[f],k=t[f];if(c)var w=p?c(k,v,f,t,e,u):c(v,k,f,e,t,u);if(void 0!==w){if(w)continue;h=!1;break}if(g){if(!i(t,(function(e,t){if(!r(g,t)&&(v===e||l(v,e,n,c,u)))return g.push(t)}))){h=!1;break}}else if(v!==k&&!l(v,k,n,c,u)){h=!1;break}}return u.delete(e),u.delete(t),h}},function(e,t,n){var o=n(117),i=n(19),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,c=o(function(){return arguments}())?o:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},function(e,t,n){(function(e){var o=n(13),i=n(118),r=t&&!t.nodeType&&t,s=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===r?o.Buffer:void 0,c=(a?a.isBuffer:void 0)||i;e.exports=c}).call(this,n(51)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&o.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var o=n(119),i=n(120),r=n(121),s=r&&r.isTypedArray,a=s?i(s):o;e.exports=a},function(e,t,n){var o=n(34);e.exports=function(e){return e==e&&!o(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var o=n(57),i=n(29);e.exports=function(e,t){for(var n=0,r=(t=o(t,e)).length;null!=e&&n<r;)e=e[i(t[n++])];return n&&n==r?e:void 0}},function(e,t,n){var o=n(14),i=n(39),r=n(134),s=n(137);e.exports=function(e,t){return o(e)?e:i(e,t)?[e]:r(s(e))}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";var o=n(1),i=n.n(o),r=n(2),s=n.n(r),a=n(3),c=n.n(a),l=n(4),u=n.n(l),p=n(5),d=n.n(p),b=n(0),m=n(20),f=n.n(m),h=wp.data,g=h.withSelect,v=h.withDispatch,k=h.select,w=wp.compose.compose,y=wp.element,O=y.Fragment,j=y.Component,E=wp.components,C=E.withSpokenMessages,S=E.CheckboxControl,_=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},A=function(e){function t(){var e;return i()(this,t),(e=c()(this,u()(t).apply(this,arguments))).state={isOpen:!1},e}return d()(t,e),s()(t,[{key:"render",value:function(){var e=this.props,t=e.editorSettings,n=e.onToggle,o=t.editorskit;return void 0===o&&void 0!==window.editorskitSettings&&(o=window.editorskitSettings.editor_settings.editorskit),Object(b.createElement)(O,null,f()(o,(function(e){return Object(b.createElement)("section",{className:"edit-post-options-modal__section"},Object(b.createElement)("h2",{className:"edit-post-options-modal__section-title"},e.label),Object(b.createElement)("ul",{className:"edit-post-editorskit-manager-modal__checklist"},f()(e.items,(function(t){return Object(b.createElement)("li",{className:"edit-post-editorskit-manager-modal__checklist-item"},Object(b.createElement)(S,{className:"edit-post-options-modal__option",label:t.label,checked:!k("core/edit-post").isFeatureActive("disableEditorsKit"+_(t.name)+_(e.name)),onChange:function(){return n(e.name,t.name)}}))}))))})))}}]),t}(j);t.a=w([g((function(){return{editorSettings:k("core/editor").getEditorSettings(),preferences:k("core/edit-post").getPreferences()}})),v((function(e){return{onToggle:function(t,n){e("core/edit-post").toggleFeature("disableEditorsKit"+_(n)+_(t))}}})),C])(A)},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e){e.exports=JSON.parse('{"name":"shareablock","category":"layout","attributes":{"hasApiKey":{"type":"boolean","default":false},"hasValidApiKey":{"type":"boolean","default":false}}}')},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t,n){var o=n(68),i=n(132),r=n(142),s=n(14),a=n(143);e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?s(e)?i(e[0],e[1]):o(e):a(e)}},function(e,t,n){var o=n(69),i=n(131),r=n(55);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}},function(e,t,n){var o=n(42),i=n(47),r=1,s=2;e.exports=function(e,t,n,a){var c=n.length,l=c,u=!a;if(null==e)return!l;for(e=Object(e);c--;){var p=n[c];if(u&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++c<l;){var d=(p=n[c])[0],b=e[d],m=p[1];if(u&&p[2]){if(void 0===b&&!(d in e))return!1}else{var f=new o;if(a)var h=a(b,m,d,e,t,f);if(!(void 0===h?i(m,b,r|s,a,f):h))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var o=n(25),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=o(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var o=n(25);e.exports=function(e){var t=this.__data__,n=o(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var o=n(25);e.exports=function(e){return o(this.__data__,e)>-1}},function(e,t,n){var o=n(25);e.exports=function(e,t){var n=this.__data__,i=o(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var o=n(24);e.exports=function(){this.__data__=new o,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var o=n(24),i=n(33),r=n(35),s=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof o){var a=n.__data__;if(!i||a.length<s-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new r(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var o=n(44),i=n(83),r=n(34),s=n(46),a=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,p=l.hasOwnProperty,d=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||i(e))&&(o(e)?d:a).test(s(e))}},function(e,t,n){var o=n(26),i=Object.prototype,r=i.hasOwnProperty,s=i.toString,a=o?o.toStringTag:void 0;e.exports=function(e){var t=r.call(e,a),n=e[a];try{e[a]=void 0;var o=!0}catch(e){}var i=s.call(e);return o&&(t?e[a]=n:delete e[a]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var o,i=n(84),r=(o=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";e.exports=function(e){return!!r&&r in e}},function(e,t,n){var o=n(13)["__core-js_shared__"];e.exports=o},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var o=n(87),i=n(24),r=n(33);e.exports=function(){this.size=0,this.__data__={hash:new o,map:new(r||i),string:new o}}},function(e,t,n){var o=n(88),i=n(89),r=n(90),s=n(91),a=n(92);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=r,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,n){var o=n(27);e.exports=function(){this.__data__=o?o(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var o=n(27),i="__lodash_hash_undefined__",r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(o){var n=t[e];return n===i?void 0:n}return r.call(t,e)?t[e]:void 0}},function(e,t,n){var o=n(27),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return o?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var o=n(27),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?i:t,this}},function(e,t,n){var o=n(28);e.exports=function(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var o=n(28);e.exports=function(e){return o(this,e).get(e)}},function(e,t,n){var o=n(28);e.exports=function(e){return o(this,e).has(e)}},function(e,t,n){var o=n(28);e.exports=function(e,t){var n=o(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var o=n(42),i=n(48),r=n(104),s=n(108),a=n(126),c=n(14),l=n(50),u=n(53),p=1,d="[object Arguments]",b="[object Array]",m="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,h,g,v){var k=c(e),w=c(t),y=k?b:a(e),O=w?b:a(t),j=(y=y==d?m:y)==m,E=(O=O==d?m:O)==m,C=y==O;if(C&&l(e)){if(!l(t))return!1;k=!0,j=!1}if(C&&!j)return v||(v=new o),k||u(e)?i(e,t,n,h,g,v):r(e,t,y,n,h,g,v);if(!(n&p)){var S=j&&f.call(e,"__wrapped__"),_=E&&f.call(t,"__wrapped__");if(S||_){var A=S?e.value():e,F=_?t.value():t;return v||(v=new o),g(A,F,n,h,v)}}return!!C&&(v||(v=new o),s(e,t,n,h,g,v))}},function(e,t,n){var o=n(35),i=n(100),r=n(101);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=r,e.exports=s},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var o=n(26),i=n(105),r=n(43),s=n(48),a=n(106),c=n(107),l=1,u=2,p="[object Boolean]",d="[object Date]",b="[object Error]",m="[object Map]",f="[object Number]",h="[object RegExp]",g="[object Set]",v="[object String]",k="[object Symbol]",w="[object ArrayBuffer]",y="[object DataView]",O=o?o.prototype:void 0,j=O?O.valueOf:void 0;e.exports=function(e,t,n,o,O,E,C){switch(n){case y:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!E(new i(e),new i(t)));case p:case d:case f:return r(+e,+t);case b:return e.name==t.name&&e.message==t.message;case h:case v:return e==t+"";case m:var S=a;case g:var _=o&l;if(S||(S=c),e.size!=t.size&&!_)return!1;var A=C.get(e);if(A)return A==t;o|=u,C.set(e,t);var F=s(S(e),S(t),o,O,E,C);return C.delete(e),F;case k:if(j)return j.call(e)==j.call(t)}return!1}},function(e,t,n){var o=n(13).Uint8Array;e.exports=o},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var o=n(109),i=1,r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,a,c){var l=n&i,u=o(e),p=u.length;if(p!=o(t).length&&!l)return!1;for(var d=p;d--;){var b=u[d];if(!(l?b in t:r.call(t,b)))return!1}var m=c.get(e);if(m&&c.get(t))return m==t;var f=!0;c.set(e,t),c.set(t,e);for(var h=l;++d<p;){var g=e[b=u[d]],v=t[b];if(s)var k=l?s(v,g,b,t,e,c):s(g,v,b,e,t,c);if(!(void 0===k?g===v||a(g,v,n,s,c):k)){f=!1;break}h||(h="constructor"==b)}if(f&&!h){var w=e.constructor,y=t.constructor;w!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof y&&y instanceof y)&&(f=!1)}return c.delete(e),c.delete(t),f}},function(e,t,n){var o=n(110),i=n(112),r=n(36);e.exports=function(e){return o(e,r,i)}},function(e,t,n){var o=n(111),i=n(14);e.exports=function(e,t,n){var r=t(e);return i(e)?r:o(r,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e}},function(e,t,n){var o=n(113),i=n(114),r=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),o(s(e),(function(t){return r.call(e,t)})))}:i;e.exports=a},function(e,t){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,i=0,r=[];++n<o;){var s=e[n];t(s,n,e)&&(r[i++]=s)}return r}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var o=n(116),i=n(49),r=n(14),s=n(50),a=n(52),c=n(53),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=r(e),u=!n&&i(e),p=!n&&!u&&s(e),d=!n&&!u&&!p&&c(e),b=n||u||p||d,m=b?o(e.length,String):[],f=m.length;for(var h in e)!t&&!l.call(e,h)||b&&("length"==h||p&&("offset"==h||"parent"==h)||d&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||a(h,f))||m.push(h);return m}},function(e,t){e.exports=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}},function(e,t,n){var o=n(18),i=n(19),r="[object Arguments]";e.exports=function(e){return i(e)&&o(e)==r}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var o=n(18),i=n(37),r=n(19),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&i(e.length)&&!!s[o(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var o=n(45),i=t&&!t.nodeType&&t,r=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=r&&r.exports===i&&o.process,a=function(){try{var e=r&&r.require&&r.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,n(51)(e))},function(e,t,n){var o=n(123),i=n(124),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return i(e);var t=[];for(var n in Object(e))r.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var o=n(125)(Object.keys,Object);e.exports=o},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var o=n(127),i=n(33),r=n(128),s=n(129),a=n(130),c=n(18),l=n(46),u=l(o),p=l(i),d=l(r),b=l(s),m=l(a),f=c;(o&&"[object DataView]"!=f(new o(new ArrayBuffer(1)))||i&&"[object Map]"!=f(new i)||r&&"[object Promise]"!=f(r.resolve())||s&&"[object Set]"!=f(new s)||a&&"[object WeakMap]"!=f(new a))&&(f=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,o=n?l(n):"";if(o)switch(o){case u:return"[object DataView]";case p:return"[object Map]";case d:return"[object Promise]";case b:return"[object Set]";case m:return"[object WeakMap]"}return t}),e.exports=f},function(e,t,n){var o=n(16)(n(13),"DataView");e.exports=o},function(e,t,n){var o=n(16)(n(13),"Promise");e.exports=o},function(e,t,n){var o=n(16)(n(13),"Set");e.exports=o},function(e,t,n){var o=n(16)(n(13),"WeakMap");e.exports=o},function(e,t,n){var o=n(54),i=n(36);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,o(s)]}return t}},function(e,t,n){var o=n(47),i=n(133),r=n(139),s=n(39),a=n(54),c=n(55),l=n(29),u=1,p=2;e.exports=function(e,t){return s(e)&&a(t)?c(l(e),t):function(n){var s=i(n,e);return void 0===s&&s===t?r(n,e):o(t,s,u|p)}}},function(e,t,n){var o=n(56);e.exports=function(e,t,n){var i=null==e?void 0:o(e,t);return void 0===i?n:i}},function(e,t,n){var o=n(135),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=o((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,o,i){t.push(o?i.replace(r,"$1"):n||e)})),t}));e.exports=s},function(e,t,n){var o=n(136),i=500;e.exports=function(e){var t=o(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var o=n(35),i="Expected a function";function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var o=arguments,i=t?t.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var s=e.apply(this,o);return n.cache=r.set(i,s)||r,s};return n.cache=new(r.Cache||o),n}r.Cache=o,e.exports=r},function(e,t,n){var o=n(138);e.exports=function(e){return null==e?"":o(e)}},function(e,t,n){var o=n(26),i=n(41),r=n(14),s=n(40),a=1/0,c=o?o.prototype:void 0,l=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return i(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-a?"-0":n}},function(e,t,n){var o=n(140),i=n(141);e.exports=function(e,t){return null!=e&&i(e,t,o)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var o=n(57),i=n(49),r=n(14),s=n(52),a=n(37),c=n(29);e.exports=function(e,t,n){for(var l=-1,u=(t=o(t,e)).length,p=!1;++l<u;){var d=c(t[l]);if(!(p=null!=e&&n(e,d)))break;e=e[d]}return p||++l!=u?p:!!(u=null==e?0:e.length)&&a(u)&&s(d,u)&&(r(e)||i(e))}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var o=n(144),i=n(145),r=n(39),s=n(29);e.exports=function(e){return r(e)?o(s(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var o=n(56);e.exports=function(e){return function(t){return o(t,e)}}},function(e,t,n){var o=n(147),i=n(38);e.exports=function(e,t){var n=-1,r=i(e)?Array(e.length):[];return o(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}},function(e,t,n){var o=n(148),i=n(151)(o);e.exports=i},function(e,t,n){var o=n(149),i=n(36);e.exports=function(e,t){return e&&o(e,t,i)}},function(e,t,n){var o=n(150)();e.exports=o},function(e,t){e.exports=function(e){return function(t,n,o){for(var i=-1,r=Object(t),s=o(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(r[c],c,r))break}return t}}},function(e,t,n){var o=n(38);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!o(n))return e(n,i);for(var r=n.length,s=t?r:-1,a=Object(n);(t?s--:++s<r)&&!1!==i(a[s],s,a););return n}}},function(e,t,n){"use strict";var o=n(153);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,function(e,t){!function(){e.exports=this.wp.wordcount}()},,function(e,t){e.exports=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t){var n=wp.data.select;wp.domReady((function(){if(document.body.classList.contains("editorskit-body-class-on")){var e=document.querySelector(".editor-page-attributes__template select"),t=document.querySelectorAll(".genesis-layout-selector input"),o=n("core/editor").getEditedPostAttribute("type"),i=o+"-template-";e&&e.addEventListener("change",(function(){var t=document.body.className.split(" ").filter((function(e){return!e.startsWith(i)})),n=e.options[e.selectedIndex].value;n||(n="default"),n=n.split("/").join("-"),document.body.className=t.join(" ").trim(),document.body.classList.add(i+n.split(".").join("-"))})),t&&function(){for(var e="default-layout",n=o+"-layout-",i=0,r=t.length;i<r;i++)t[i].addEventListener("change",(function(){if(this.getAttribute("id")!==e){var t=document.body.className.split(" ").filter((function(e){return!e.startsWith(n)}));e=this.getAttribute("id"),document.body.className=t.join(" ").trim(),document.body.classList.add(n+e.split(".").join("-"))}}))}()}}))},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],o=!0,i=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw r}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){var n=wp.hooks.addFilter,o=wp.blocks.createBlock,i=["core/cover"];n("blocks.registerBlockType","editorskit/transform/group",(function(e){if(void 0!==e.transforms!=="undefined"&&i.includes(e.name)){var t=e.transforms;void 0===t.from&&(t.from=[]);var n={type:"block",blocks:["core/group"],__experimentalConvert:function(e){void 0!==e.attributes.backgroundColor&&(e.attributes.overlayColor=e.attributes.backgroundColor),void 0!==e.attributes.customBackgroundColor&&(e.attributes.customOverlayColor=e.attributes.customBackgroundColor);var t=e.innerBlocks.map((function(e){return o(e.name,e.attributes,e.innerBlocks)}));return o("core/cover",e.attributes,t)}};t.from.push(n),e.transforms=t}return e}))},function(e,t){var n=wp.hooks.addFilter,o=wp.blocks.hasBlockSupport,i=["core/image","core/gallery","core/video","core/audio","core-embed","core-embed/youtube","core-embed/twitter","core-embed/facebook","core-embed/instagram","core-embed/wordpress","core-embed/soundcloud","core-embed/spotify","core-embed/flickr","core-embed/vimeo","core-embed/animoto","core-embed/cloudup","core-embed/collegehumor","core-embed/crowdsignal","core-embed/dailymotion","core-embed/hulu","core-embed/imgur","core-embed/issuu","core-embed/kickstarter","core-embed/meetup-com","core-embed/mixcloud","core-embed/reddit","core-embed/reverbnation","core-embed/screencast","core-embed/scribd","core-embed/slideshare","core-embed/smugmug","core-embed/speaker-deck","core-embed/ted","core-embed/tumblr","core-embed/videopress","core-embed/wordpress-tv","core-embed/amazon-kindle","core/table"];n("blocks.registerBlockType","editorskit/alignment/attributes",(function(e){return void 0!==e.attributes&&(i.includes(e.name)||o(e.name,"editorsKitCaptionAlignment"))&&(e.attributes=Object.assign(e.attributes,{captionAlignment:{type:"string"}})),e}))},function(e,t){var n=wp.i18n.__,o=wp.blocks.registerBlockStyle;["core/image","core/cover"].forEach((function(e){o(e,{name:"default",label:n("Default","block-options"),isDefault:!0}),o(e,{name:"editorskit-circular",label:n("Circular","block-options"),isDefault:!1}),o(e,{name:"editorskit-rounded",label:n("Rounded Corners","block-options"),isDefault:!1}),o(e,{name:"editorskit-diagonal",label:n("Diagonal","block-options"),isDefault:!1}),o(e,{name:"editorskit-inverted-diagonal",label:n("Inverted Diagonal","block-options"),isDefault:!1}),o(e,{name:"editorskit-shadow",label:n("Shadow","block-options"),isDefault:!1})}))},function(e,t){var n=wp.i18n.__,o=wp.blocks.registerBlockStyle;o("core/list",{name:"default",label:n("Default","block-options"),isDefault:!0}),o("core/list",{name:"none",label:n("None","block-options"),isDefault:!1}),o("core/list",{name:"arrow",label:n("Arrow","block-options"),isDefault:!1}),o("core/list",{name:"checked",label:n("Checked","block-options"),isDefault:!1}),o("core/list",{name:"crossed",label:n("Crossed","block-options"),isDefault:!1}),o("core/list",{name:"connected",label:n("Connected","block-options"),isDefault:!1}),o("core/list",{name:"dashed",label:n("Dashed","block-options"),isDefault:!1}),o("core/list",{name:"starred",label:n("Starred","block-options"),isDefault:!1})},function(e,t){var n=wp.i18n.__,o=wp.blocks.registerBlockStyle;o("core/columns",{name:"default",label:n("Default","block-options"),isDefault:!0}),o("core/columns",{name:"gapless",label:n("Gapless","block-options"),isDefault:!1})},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"name",(function(){return xw})),n.d(o,"title",(function(){return Pw})),n.d(o,"category",(function(){return Dw})),n.d(o,"icon",(function(){return Sw})),n.d(o,"settings",(function(){return Nw}));var i={};n.r(i),n.d(i,"name",(function(){return ky})),n.d(i,"category",(function(){return wy})),n.d(i,"settings",(function(){return Oy}));var r=n(8),s=n.n(r),a=n(11),c=n.n(a),l=n(0),u=n(10),p=n.n(u),d=n(6),b=n.n(d);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var f=wp.hooks.addFilter,h=wp.element.Fragment,g=wp.compose.createHigherOrderComponent,v=wp.blocks.hasBlockSupport,k=["core/freeform","core/shortcode","core/nextpage"],w=["core/image","core/cover","core/group","core/columns","core/media-text"],y=["core/list"],O=["core/list"],j=["core/spacer","core/separator"],E=["core/columns","core/column"],C=["core/button"],S=["core/group","core/column","core/cover"];var A=g((function(e){return function(t){var n=t.attributes;return void 0===n.editorskit&&(n.editorskit=[]),Object(l.createElement)(h,null,Object(l.createElement)(e,t))}}),"withAttributes");var F=g((function(e){return function(t){var n=t.name,o=t.attributes,i=o.isHeightFullScreen,r=o.isFullWidth,a=t.wrapperProps,u={};return v(n,"hasHeightFullScreen")&&i&&(u=Object.assign(u,{"data-editorskit-h-screen":1})),v(n,"hasFullWidthDisplay")&&r&&(u=Object.assign(u,{"data-editorskit-w-full":1})),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{},u),Object(l.createElement)(e,c()({},t,{wrapperProps:a}))}}),"addEditorBlockAttributes");f("blocks.registerBlockType","editorskit/custom/attributes",(function(e){return void 0===e.attributes||k.includes(e.name)||(e.attributes=Object.assign(e.attributes,{editorskit:{type:"object",default:{devices:!1,desktop:!0,tablet:!0,mobile:!0,loggedin:!0,loggedout:!0,acf_visibility:"",acf_field:"",acf_condition:"",acf_value:"",migrated:!1,unit_test:!1}}}),e.attributes=Object.assign(e.attributes,{blockOpts:{type:"object"}}),w.includes(e.name)&&(e.supports||(e.supports={}),e.supports=Object.assign(e.supports,{hasHeightFullScreen:!0})),v(e,"hasHeightFullScreen")&&void 0!==e.attributes&&(e.attributes.isHeightFullScreen||(e.attributes=Object.assign(e.attributes,{isHeightFullScreen:{type:"boolean",default:!1}}))),C.includes(e.name)&&(e.supports||(e.supports={}),e.supports=Object.assign(e.supports,{hasFullWidthDisplay:!0})),v(e,"hasFullWidthDisplay")&&void 0!==e.attributes&&(e.attributes.isFullWidth||(e.attributes=Object.assign(e.attributes,{isFullWidth:{type:"boolean",default:!1}}))),y.includes(e.name)&&(e.attributes||(e.attributes={}),e.attributes=Object.assign(e.attributes,{textColor:{type:"string"},customTextColor:{type:"string"},fontSize:{type:"string"},customFontSize:{type:"number"}})),O.includes(e.name)&&(e.attributes||(e.attributes={}),e.attributes=Object.assign(e.attributes,{bulletColor:{type:"string"}})),E.includes(e.name)&&(e.attributes||(e.attributes={}),e.attributes=Object.assign(e.attributes,{backgroundColor:{type:"string"},customBackgroundColor:{type:"string"}})),j.includes(e.name)&&(e.supports||(e.supports={}),e.supports=Object.assign(e.supports,{anchor:!0})),(b()(e,"attributes.align")||b()(e,"attributes.textAlign"))&&(e.attributes=Object.assign(e.attributes,{hasAlignmentOption:{type:"boolean",default:!0}})),(S.includes(e.name)||v(e,"editorsKitLinkToolbar"))&&void 0!==e.attributes&&(e.attributes=Object.assign(e.attributes,{href:{type:"string"},linkDestination:{type:"string",default:"none"},opensInNewTab:{type:"boolean",default:!1},linkNoFollow:{type:"boolean",default:!1},linkSponsored:{type:"boolean",default:!1},hasAnimation:{type:"boolean",default:!1}}))),e})),f("editor.BlockEdit","editorskit/attributes",A),f("blocks.getSaveContent.extraProps","editorskit/applyExtraClass",(function(e,t,n){var o=n.editorskit,i=n.isHeightFullScreen,r=n.isFullWidth,s=n.href,a=n.hasAnimation;return void 0===o||k.includes(t.name)||(void 0!==o.id&&(e.className=p()(e.className,o.id)),void 0===o.desktop||o.desktop||(e.className=p()(e.className,"editorskit-no-desktop")),void 0===o.tablet||o.tablet||(e.className=p()(e.className,"editorskit-no-tablet")),void 0===o.mobile||o.mobile||(e.className=p()(e.className,"editorskit-no-mobile")),void 0!==o.tabletAlignment&&o.tabletAlignment&&(e.className=p()(e.className,"has-tablet-text-align-"+o.tabletAlignment)),void 0!==o.mobileAlignment&&o.mobileAlignment&&(e.className=p()(e.className,"has-mobile-text-align-"+o.mobileAlignment))),v(t.name,"hasHeightFullScreen")&&i&&(e.className=p()(e.className,"h-screen")),v(t.name,"hasFullWidthDisplay")&&r&&(e.className=p()(e.className,"ek-w-full")),(S.includes(t.name)||v(t.name,"editorsKitLinkToolbar"))&&void 0!==s&&s&&(e.className=p()(e.className,"ek-linked-block"),void 0!==a&&a&&(e.className=p()(e.className,"ek-linked-block-animate"))),e})),f("editor.BlockListBlock","editorskit/addEditorBlockAttributes",F);var x=n(23),D=n.n(x),P=wp.i18n.__,T=wp.compose.compose,N=wp.data.withSelect,B=wp.element.Fragment,I=wp.blockEditor,L=I.InspectorControls,M=I.FontSizePicker,K=I.withFontSizes,R=I.withColors,z=I.PanelColorSettings,H=wp.components,U=H.PanelBody,V=(0,H.withFallbackStyles)((function(e,t){var n=t.attributes,o=n.fontSize,i=n.customFontSize,r=n.textColor,s=e.querySelector('[contenteditable="true"]'),a=s?getComputedStyle(s):null;return{fallbackTextColor:r||!a?void 0:a.color,fallbackFontSize:o||i||!a?void 0:parseInt(a.fontSize)||void 0}})),W=T([N((function(e){return{isFontSizeDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitListBlockFontSizeOptions"),isTextColorDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitListBlockTextColorOptions")}})),R({textColor:"color"}),K("fontSize"),V])((function(e){var t=e.fallbackFontSize,n=e.fontSize,o=e.setFontSize,i=e.textColor,r=e.setTextColor,s=e.bulletColor,a=e.isFontSizeDisabled,c=e.isTextColorDisabled,u=e.setAttributes;return Object(l.createElement)(B,null,Object(l.createElement)(L,null,!a&&Object(l.createElement)(U,{title:P("Text Settings","block-options"),initialOpen:!1,className:"editorskit-panel"},Object(l.createElement)(M,{fallbackFontSize:t,value:n.size,onChange:o})),!c&&Object(l.createElement)(z,{title:P("Color Settings","block-options"),initialOpen:!1,colorSettings:[{value:i.color,onChange:r,label:P("Text Color","block-options")},{value:s,onChange:function(e){return u({bulletColor:e})},label:P("Bullet/Icon Color","block-options")}]})))})),q=wp.i18n.__,J=wp.compose,G=J.compose,$=J.ifCondition,Y=wp.data.withSelect,Q=wp.element.Fragment,Z=wp.blockEditor,X=Z.InspectorControls,ee=Z.withColors,te=Z.PanelColorSettings,ne=(0,wp.components.withFallbackStyles)((function(e,t){var n=t.attributes.backgroundColor,o=e.querySelector('[contenteditable="true"]'),i=o?getComputedStyle(o):null;return{fallbackBackgroundColor:n||!i?void 0:i.backgroundColor}})),oe=G([Y((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitColumnsBackgroundOptions")}})),ee({backgroundColor:"color"}),ne,$((function(e){var t=window.editorskitInfo.editor,n=parseFloat(t.version);return!e.isDisabled&&n<7.4}))])((function(e){var t=e.backgroundColor,n=e.setBackgroundColor,o=e.isTextColorDisabled;return Object(l.createElement)(Q,null,Object(l.createElement)(X,null,!o&&Object(l.createElement)(te,{title:q("Color Settings","block-options"),initialOpen:!1,colorSettings:[{value:t.color,onChange:n,label:q("Background Color","block-options")}]})))}));var ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.fontSizes,i=n.colors,r=e.editorskit,s=e.textColor,a=e.customTextColor,c=e.backgroundColor,l=e.customBackgroundColor,u=e.bulletColor,p=e.fontSize,b=e.customFontSize,m=e.start,f={};if(void 0!==p){var h=Object(d.find)(o,{slug:p});void 0!==h&&void 0!==h.size&&(f.fontSize=h.size+"px")}else void 0!==b&&(f.fontSize=b+"px");if(void 0!==s){if(void 0!==i){var g=Object(d.find)(i,{slug:s});void 0!==g&&void 0!==g.color&&(f.color=g.color)}}else void 0!==a&&(f.color=a);if(void 0!==c){if(void 0!==i){var v=Object(d.find)(i,{slug:c});void 0!==v&&void 0!==v.color&&(f.backgroundColor=v.color)}}else void 0!==l&&(f.backgroundColor=l);return void 0!==u&&(f["--ek-bullet-color"]=u,["core/list"].includes(t)&&void 0!==m&&(f["--li-start"]=m-1+"")),void 0!==r.indent&&(f["--ek-indent"]=r.indent+"px"),f};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var se=wp.hooks.addFilter,ae=wp.element.Fragment,ce=wp.data.withSelect,le=wp.compose,ue=le.compose,pe=le.createHigherOrderComponent,de=["core/list"],be=["core/columns","core/column"],me=ue(ce((function(e){var t=e("core/block-editor").getSettings();return{fontSizes:t.fontSizes,colors:t.colors,selected:e("core/block-editor").getSelectedBlock(),select:e,isDisabledListTextSettings:e("core/edit-post").isFeatureActive("disableEditorsKitDevicesVisibility")}}))),fe=pe((function(e){return me((function(t){var n=t.select,o=D()(t,["select"]),i=o.wrapperProps,r={},a=n("core/block-editor").getBlock(o.clientId).attributes,u=n("core/block-editor").getBlockName(o.clientId);if(de.includes(u)||be.includes(u)||void 0!==a.editorskit&&void 0!==a.editorskit.indent&&a.editorskit.indent){var p=a.customFontSize,d=a.fontSize,b=a.bulletColor,m=a.editorskit;(p||d)&&(r=Object.assign(r,{"data-custom-fontsize":1})),b&&(r=Object.assign(r,{"data-custom-bulletcolor":1})),void 0!==m&&void 0!==m.indent&&m.indent&&(r=Object.assign(r,{"data-ek-indent":1})),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i,{style:ie(a,u,o)},r)}return Object(l.createElement)(e,c()({},o,{wrapperProps:i}))}))}),"withTextSettings");se("editor.BlockEdit","editorskit/block-panel",pe((function(e){return me((function(t){var n=c()({},t),o=n.name,i=n.isSelected,r=n.isDisabledListTextSettings;return Object(l.createElement)(ae,null,Object(l.createElement)(e,n),i&&!r&&de.includes(o)&&Object(l.createElement)(W,n),i&&!r&&be.includes(o)&&Object(l.createElement)(oe,n))}))}),"withBlockPanel")),se("editor.BlockListBlock","editorskit/withTextSettings",fe),se("blocks.getSaveContent.extraProps","editorskit/applyTextSettings",(function(e,t,n){if(de.includes(t.name)||be.includes(t.name)||void 0!==n.editorskit&&void 0!==n.editorskit.indent&&n.editorskit.indent){void 0!==e.style?e.style=Object.assign(e.style,ie(n,t.name)):e.style=ie(n,t.name);var o=n.customFontSize,i=n.fontSize,r=n.textColor,s=n.backgroundColor,a=n.bulletColor,c=n.editorskit;i?e.className=p()(e.className,"has-"+i+"-font-size"):o&&(e.className=p()(e.className,"has-custom-size")),r&&(e.className=p()(e.className,"has-"+r+"-color")),s&&(e.className=p()(e.className,"has-"+s+"-background-color")),a&&(e.className=p()(e.className,"has-list-bullet-color")),void 0!==c&&void 0!==c.indent&&c.indent&&(e.className=p()(e.className,"has-ek-indent"))}return e}));var he=wp.i18n.__,ge=wp.hooks,ve=ge.addFilter,ke=ge.removeFilter,we=wp.element.Fragment,ye=wp.data,Oe=ye.withSelect,je=ye.select,Ee=wp.compose,Ce=Ee.compose,Se=Ee.createHigherOrderComponent,_e=Ee.withState,Ae=wp.blocks.hasBlockSupport,Fe=wp.blockEditor.InspectorAdvancedControls,xe=wp.components.FormTokenField,De=Ce(_e({customClassNames:[]}),Oe((function(e,t){var n=e("core/block-editor").getSelectedBlock(),o=Object(d.get)(n,"attributes.className");return o&&(o=Object(d.replace)(o,","," ")),n&&o&&Object(d.join)(t.customClassNames," ")!==o&&t.clientId===n.clientId&&t.setState({customClassNames:Object(d.split)(o," ")}),{suggestions:e("core/editor").getEditorSettings().editorskitCustomClassNames}}))),Pe=Se((function(e){return De((function(t){var n=c()({},t),o=Ae(n.name,"customClassName",!0),i=n.customClassNames,r=n.suggestions,s=n.setState;return o&&n.isSelected?Object(l.createElement)(we,null,Object(l.createElement)(e,n),Object(l.createElement)(Fe,null,Object(l.createElement)(xe,{label:he("Additional CSS Class(es)","block-options"),value:i,suggestions:r,maxSuggestions:20,onChange:function(e){n.setAttributes({className:""!==e?Object(d.join)(e," "):void 0}),s({customClassNames:""!==e?e:void 0})}}))):Object(l.createElement)(e,n)}))}),"withInspectorControl");function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}je("core/edit-post").isFeatureActive("disableEditorsKitCustomClassNamesTools")||(ke("editor.BlockEdit","core/editor/custom-class-name/with-inspector-control"),ve("editor.BlockEdit","editorskit/custom-class-name/with-inspector-control",Pe));var Ne=wp.i18n.__,Be=wp.components.Toolbar,Ie=[{icon:"editor-alignleft",title:Ne("Align text left","block-options"),align:"left"},{icon:"editor-aligncenter",title:Ne("Align text center","block-options"),align:"center"},{icon:"editor-alignright",title:Ne("Align text right","block-options"),align:"right"},{icon:"editor-justify",title:Ne("Align text justify","block-options"),align:"justify"}];var Le=function(e){var t=e.value,n=e.onChange,o=e.alignmentControls,i=void 0===o?Ie:o,r=e.label,a=void 0===r?Ne("Change text alignment","block-options"):r,c=e.isCollapsed,u=void 0===c||c;function p(e){return function(){return n(t===e?void 0:e)}}var b=Object(d.find)(i,(function(e){return e.align===t}));return Object(l.createElement)(Be,{isCollapsed:u,icon:b?b.icon:"editor-alignleft",label:a,controls:i.map((function(e){var n=e.align;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{isActive:t===n,role:u?"menuitemradio":void 0,onClick:p(n)})}))})},Me=wp.i18n.__,Ke=wp.data.dispatch,Re=wp.element.Fragment,ze=wp.components,He=ze.ToggleControl,Ue=ze.TabPanel,Ve=function(e){var t=e.clientId,n=e.attributes,o=e.reloadModal,i=n.editorskit,r=n.hasAlignmentOption,a=function(e,n){void 0===n&&(n=!i[e]),delete i[e];var r=Object.assign(s()({},e,n),i);Ke("core/block-editor").updateBlockAttributes(t,{editorskit:r}),o&&o()};if(void 0!==i)return Object(l.createElement)(Re,null,Object(l.createElement)("h3",null,Me("Responsive Visibility","block-options")),Object(l.createElement)(He,{label:Me("Hide on Desktop","block-options"),checked:void 0!==i.desktop&&!i.desktop,onChange:function(){return a("desktop")}}),Object(l.createElement)(He,{label:Me("Hide on Tablet","block-options"),checked:void 0!==i.tablet&&!i.tablet,onChange:function(){return a("tablet")}}),Object(l.createElement)(He,{label:Me("Hide on Mobile","block-options"),checked:void 0!==i.mobile&&!i.mobile,onChange:function(){return a("mobile")}}),void 0!==r&&r&&Object(l.createElement)(Re,null,Object(l.createElement)("h3",null,Me("Responsive Text Alignment","block-options")),Object(l.createElement)("small",null,Me("Assign different alignment for tablet and mobile devices aside from the option you already have for desktop on the block toolbar.","block-options")),Object(l.createElement)(Ue,{className:"ek-responsive-tabpanel",activeClass:"is-primary",tabs:[{name:"mobile",title:Me("Mobile","block-options"),className:"is-button is-default is-small"},{name:"tablet",title:Me("Tablet","block-options"),className:"is-button is-default is-small"}]},(function(e){switch(e.name){case"mobile":return Object(l.createElement)(Re,null,Object(l.createElement)("p",null,Me("Alignment for Mobile Devices","block-options")),Object(l.createElement)(Le,{isCollapsed:!1,value:void 0!==i.mobileAlignment?i.mobileAlignment:"",onChange:function(e){return a("mobileAlignment",e)}}));case"tablet":return Object(l.createElement)(Re,null,Object(l.createElement)("p",null,Me("Alignment for Tablet Devices","block-options")),Object(l.createElement)(Le,{isCollapsed:!1,value:void 0!==i.tabletAlignment?i.tabletAlignment:"",onChange:function(e){return a("tabletAlignment",e)}}))}}))))},We=wp.i18n.__,qe=wp.data.dispatch,Je=wp.element.Fragment,Ge=wp.components.ToggleControl,$e=function(e){var t=e.clientId,n=e.attributes,o=e.reloadModal,i=n.editorskit,r=function(e){var n=!i[e];delete i[e];var r=Object.assign(s()({},e,n),i);qe("core/block-editor").updateBlockAttributes(t,{editorskit:r}),o&&o()};if(void 0!==i)return Object(l.createElement)(Je,null,Object(l.createElement)("div",{className:"editorskit-user-state-controls"},Object(l.createElement)("hr",{className:"editorskit-divider"}),Object(l.createElement)(Ge,{label:We("Hide on Loggedin Users","block-options"),help:i.loggedin?We("Toggle to hide this block when users are not logged in.","block-options"):We("Hidden when users are logged in.","block-options"),checked:void 0!==i.loggedin&&!i.loggedin,onChange:function(){return r("loggedin")}}),Object(l.createElement)(Ge,{label:We("Hide on Loggedout Users","block-options"),help:i.loggedout?We("Toggle to hide this block when users are guests or logged out.","block-options"):We("Hidden on guests or logged out users.","block-options"),checked:void 0!==i.loggedout&&!i.loggedout,onChange:function(){return r("loggedout")}})))},Ye=wp.i18n.__,Qe=wp.element.Fragment,Ze=wp.components.ToggleControl,Xe=function(e){var t=e.attributes,n=e.setAttributes,o=t.isHeightFullScreen;return Object(l.createElement)(Qe,null,Object(l.createElement)(Ze,{label:Ye("Full Screen Height","block-options"),checked:!!o,onChange:function(){return n({isHeightFullScreen:!o})},help:Ye(o?"Full screen height is enabled.":"Toggle to display this block's height full screen of the browser viewport.","block-options")}))},et=wp.i18n.__,tt=wp.element.Fragment,nt=wp.components.ToggleControl,ot=function(e){var t=e.attributes,n=e.setAttributes,o=t.isFullWidth;return Object(l.createElement)(tt,null,Object(l.createElement)(nt,{label:et("Full Width Display","block-options"),checked:!!o,onChange:function(){return n({isFullWidth:!o})},help:et(o?"Full width display is enabled.":"Toggle to display this block's as full width.","block-options")}))},it=wp.i18n.__,rt=wp.hooks.addFilter,st=wp.element.Fragment,at=wp.data,ct=at.withSelect,lt=at.select,ut=wp.blockEditor,pt=ut.InspectorAdvancedControls,dt=ut.InspectorControls,bt=wp.compose,mt=bt.compose,ft=bt.createHigherOrderComponent,ht=wp.components.PanelBody,gt=wp.blocks.hasBlockSupport,vt=["core/block","core/freeform","core/shortcode","core/template","core/nextpage","editorskit/import","editorskit/shareablock"],kt=mt(ct((function(){return{isDisabledButtonWidth:lt("core/edit-post").isFeatureActive("disableEditorsKitButtonFullwidthOptions"),isDisabledDevices:lt("core/edit-post").isFeatureActive("disableEditorsKitDevicesVisibility"),isDisabledUserState:lt("core/edit-post").isFeatureActive("disableEditorsKitUserStateVisibility")}})));rt("editor.BlockEdit","editorskit/advanced",ft((function(e){return kt((function(t){var n=c()({},t),o=n.name,i=n.attributes,r=n.setAttributes,s=n.isSelected,a=n.isDisabledDevices,u=n.isDisabledUserState,p=n.isDisabledButtonWidth,d=i.editorskit,b=i.blockOpts,m=gt(o,"hasHeightFullScreen"),f=gt(o,"hasFullWidthDisplay");if(void 0!==d&&!d.migrated&&b){n.attributes.editorskit=Object.assign(n.attributes.editorskit,{devices:!1,desktop:!("show"===b.devices&&"on"!==b.desktop||"hide"===b.devices&&"on"===b.desktop),tablet:!("show"===b.devices&&"on"!==b.tablet||"hide"===b.devices&&"on"===b.tablet),mobile:!("show"===b.devices&&"on"!==b.mobile||"hide"===b.devices&&"on"===b.mobile),loggedin:"out"!==b.state||"in"===b.state,loggedout:"in"!==b.state||"out"===b.state,acf_visibility:b.acf_visibility?b.acf_visibility:"",acf_field:b.acf_field?b.acf_field:"",acf_condition:b.acf_condition?b.acf_condition:"",acf_value:b.acf_value?b.acf_value:"",logic:b.logic?b.logic:"",migrated:!0}),n.attributes.className||(n.attributes.className="");var h=n.attributes.className.replace("b"+b.id,"").replace("blockopts-show","").replace("blockopts-hide","").replace("blockopts-desktop","").replace("blockopts-tablet","").replace("blockopts-mobile","");h=h.trim(),n.attributes.className=h,r({editorskit:n.attributes.editorskit,className:h})}return Object(l.createElement)(st,null,Object(l.createElement)(e,n),m&&Object(l.createElement)(pt,null,Xe(n)),!p&&f&&Object(l.createElement)(pt,null,ot(n)),s&&!a&&!vt.includes(o)&&Object(l.createElement)(dt,null,Object(l.createElement)(ht,{title:it("Responsive","block-options"),initialOpen:!1,className:"editorskit-panel"},Object(l.createElement)("small",null,it("Attention: The display settings (show/hide for mobile, tablet or desktop) will only take effect once you are on the live page, and not while you're editing in Gutenberg.","block-options")),Ve(n))),s&&!vt.includes(o)&&Object(l.createElement)(pt,null,!u&&$e(n)))}))}),"withAdvancedControls"));n(158);var wt=n(1),yt=n.n(wt),Ot=n(2),jt=n.n(Ot),Et=n(3),Ct=n.n(Et),St=n(4),_t=n.n(St),At=n(7),Ft=n.n(At),xt=n(5),Dt=n.n(xt),Pt=wp.i18n.__,Tt=wp.element.Component,Nt=wp.compose,Bt=Nt.compose,It=Nt.ifCondition,Lt=wp.editPost.PluginPostStatusInfo,Mt=wp.data,Kt=Mt.select,Rt=Mt.withSelect,zt=Mt.withDispatch,Ht=wp.components,Ut=Ht.withSpokenMessages,Vt=Ht.CheckboxControl,Wt=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).initialize=e.initialize.bind(Ft()(e)),e}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentDidUpdate",value:function(){this.initialize()}},{key:"initialize",value:function(){var e=this.props,t=e.isDisabled,n=e.postmeta;if(document.querySelector(".editor-post-title__block")){var o=void 0!==n&&void 0!==n._editorskit_title_hidden&&n._editorskit_title_hidden,i=o?"editorskit-title-hidden":"editorskit-title-visible";o?document.body.classList.remove("editorskit-title-visible"):document.body.classList.remove("editorskit-title-hidden"),document.body.classList.add(i),t?document.body.classList.add("editorskit-title-visible-disabled"):document.body.classList.remove("editorskit-title-visible-disabled")}}},{key:"render",value:function(){var e=this.props,t=e.onToggle,n=e.postmeta,o=e.posttype;if(["wp_block"].includes(o))return!1;var i=void 0!==n&&void 0!==n._editorskit_title_hidden&&n._editorskit_title_hidden;return Object(l.createElement)(Lt,null,Object(l.createElement)(Vt,{className:"editorskit-hide-title-label",label:Pt("Hide "+o+" Title","block-options"),checked:i,onChange:t,help:i?Pt("Title is hidden on your website.","block-options"):null}))}}]),t}(Tt),qt=Bt(Rt((function(){return{posttype:Kt("core/editor").getEditedPostAttribute("type"),postmeta:Kt("core/editor").getEditedPostAttribute("meta"),isDisabled:Kt("core/edit-post").isFeatureActive("disableEditorsKitToggleTitleTools")}})),zt((function(e,t){var n;return void 0!==t.postmeta&&void 0!==t.postmeta._editorskit_title_hidden&&(n=t.postmeta._editorskit_title_hidden),{onToggle:function(){e("core/editor").editPost({meta:{_editorskit_title_hidden:!n}})}}})),It((function(e){return!e.isDisabled})),Ut)(Wt);(0,wp.plugins.registerPlugin)("editorskit-disable-title",{icon:!1,render:qt});var Jt=wp.i18n.__,Gt=wp.data,$t=Gt.withSelect,Yt=Gt.withDispatch,Qt=Gt.dispatch,Zt=Gt.select,Xt=wp.compose.compose,en=wp.element,tn=en.Fragment,nn=en.Component,on=wp.editPost.PluginMoreMenuItem,rn=wp.components.withSpokenMessages,sn=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){var e=document.querySelector(".edit-post-header__settings"),t='<span class="editorskit-auto-save-disabled--label">'+Jt("Auto Save Disabled","block-options")+"</span>";e.insertAdjacentHTML("afterbegin",t),this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){var e=this.props,t=e.isAvailable,n=e.isActive,o=e.isDisabled,i=e.editorSettings,r=60,s=document.querySelector(".editorskit-auto-save-disabled--label");if(n||o||void 0===t||(r=259200),i.autosaveInterval!==r){var a=Object.assign(this.props.editorSettings,{autosaveInterval:r});Qt("core/editor").updateEditorSettings(a),Qt("core/editor").refreshPost()}s.className="editorskit-auto-save-disabled--label editorskit-auto-save-disabled--"+r}},{key:"render",value:function(){var e=this.props,t=e.isDisabled,n=e.onToggle,o=e.editorSettings;if(t)return null;var i=this.props.isActive;return 259200!==o.autosaveInterval&&(i=!0),Object(l.createElement)(tn,null,Object(l.createElement)(on,{icon:i&&"yes",role:"menuitemcheckbox",info:Jt("Toggle to disable or enable editor autosaving feature.","block-options"),onClick:n},Jt("Auto Save","block-options")))}}]),t}(nn),an=Xt([$t((function(){return{isAvailable:Zt("core/edit-post").getPreference("features").editorskitAutoSave,isActive:Zt("core/edit-post").isFeatureActive("editorskitAutoSave"),isDisabled:Zt("core/edit-post").isFeatureActive("disableEditorsKitAutosaveTools"),editorSettings:Zt("core/editor").getEditorSettings()}})),Yt((function(){return{onToggle:function(){Qt("core/edit-post").toggleFeature("editorskitAutoSave")}}})),rn])(sn);(0,wp.plugins.registerPlugin)("editorskit-editor-autosave",{icon:!1,render:an});var cn=wp.i18n.__,ln=wp.data,un=ln.withSelect,pn=ln.withDispatch,dn=wp.compose.compose,bn=wp.element,mn=bn.Fragment,fn=bn.Component,hn=wp.editPost.PluginMoreMenuItem,gn=wp.components.withSpokenMessages,vn=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){var e=this.props,t=e.isActive,n=e.isDisabled,o=window.editorskitInfo.editor;(t&&!n?document.body.classList.add("is-guide-lines-on"):document.body.classList.remove("is-guide-lines-on"),void 0===o.version||n)||parseFloat(o.version)>=7&&document.body.classList.add("is-guide-lines-new")}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.onToggle;return e.isDisabled?null:Object(l.createElement)(mn,null,Object(l.createElement)(hn,{icon:t&&"yes",role:"menuitemcheckbox",info:cn("Show visible guide lines on title and blocks","block-options"),onClick:n},cn("Block Guide Lines","block-options")))}}]),t}(fn),kn=dn([un((function(e){return{isActive:e("core/edit-post").isFeatureActive("blockGuideLines"),isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitGuidelinesTools")}})),pn((function(e){return{onToggle:function(){e("core/edit-post").toggleFeature("blockGuideLines")}}})),gn])(vn);(0,wp.plugins.registerPlugin)("editorskit-block-guidelines",{icon:!1,render:kn});var wn=wp.i18n.__,yn=wp.data,On=yn.withSelect,jn=yn.withDispatch,En=wp.compose.compose,Cn=wp.element,Sn=Cn.Fragment,_n=Cn.Component,An=wp.editPost.PluginMoreMenuItem,Fn=wp.components.withSpokenMessages,xn=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){var e=this.props,t=e.isActive,n=e.isDisabled;t&&!n?document.body.classList.add("is-editorkit-height-on"):document.body.classList.remove("is-editorkit-height-on")}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.onToggle;return e.isDisabled?null:Object(l.createElement)(Sn,null,Object(l.createElement)(An,{icon:t&&"yes",role:"menuitemcheckbox",info:wn("Toggle to change editor min-height similar to browser viewport.","block-options"),onClick:n},wn("Editor Height","block-options")))}}]),t}(_n),Dn=En([On((function(e){return{isActive:e("core/edit-post").isFeatureActive("editorMinHeight"),isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitHeightTools")}})),jn((function(e){return{onToggle:function(){e("core/edit-post").toggleFeature("editorMinHeight")}}})),Fn])(xn);(0,wp.plugins.registerPlugin)("editorskit-editor-height",{icon:!1,render:Dn});var Pn=wp.i18n.__,Tn=[{title:Pn("Markdown Formatting","block-options"),shortcuts:[{keyCombination:["##","SPACE"],description:Pn("Large header (h2)","block-options")},{keyCombination:["###","SPACE"],description:Pn("Medium header (h3)","block-options")},{keyCombination:["####","SPACE"],description:Pn("Small header (h4)","block-options")},{keyCombination:["1.","SPACE"],description:Pn("Numbered list","block-options")},{keyCombination:["*","SPACE"],description:Pn("Bulleted list","block-options")},{keyCombination:[">","SPACE"],description:Pn("Blockquote","block-options")},{keyCombination:["_italic_"],description:Pn("Italic","block-options")},{keyCombination:["*bold*"],description:Pn("Bold","block-options")},{keyCombination:["~Strikethrough~"],description:Pn("Strikethrough","block-options")},{keyCombination:["`code`"],description:Pn("Code","block-options")}]}],Nn=wp.i18n.__,Bn=wp.element,In=Bn.Fragment,Ln=Bn.Component,Mn=wp.editPost.PluginMoreMenuItem,Kn=wp.compose,Rn=Kn.compose,zn=Kn.ifCondition,Hn=wp.data,Un=Hn.select,Vn=Hn.withSelect,Wn=wp.components,qn=Wn.withSpokenMessages,Jn=Wn.Modal,Gn=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).state={isOpen:!1},e}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this,t=function(e){var t=e.shortcuts;return Object(l.createElement)("dl",{className:"edit-post-keyboard-shortcut-help__shortcut-list"},t.map((function(e,t){var n=e.keyCombination,o=e.description,i=e.ariaLabel;return Object(l.createElement)("div",{className:"edit-post-keyboard-shortcut-help__shortcut",key:t},Object(l.createElement)("div",{className:"edit-post-keyboard-shortcut-help__shortcut-description"},o),Object(l.createElement)("div",{className:"edit-post-keyboard-shortcut-help__shortcut-term"},Object(l.createElement)("kbd",{className:"edit-post-keyboard-shortcut-help__shortcut-key-combination","aria-label":i},function(e){return e.map((function(e,t){return"+"===e?Object(l.createElement)(In,{key:t},e):Object(l.createElement)("kbd",{key:t,className:"edit-post-keyboard-shortcut-help__shortcut-key"},e)}))}(Object(d.castArray)(n)))))})))},n=function(e){var n=e.title,o=e.shortcuts;return Object(l.createElement)("section",{className:"edit-post-keyboard-shortcut-help__section"},Object(l.createElement)("h2",{className:"edit-post-keyboard-shortcut-help__section-title"},n),Object(l.createElement)(t,{shortcuts:o}))};return Object(l.createElement)(In,null,Object(l.createElement)(Mn,{icon:null,role:"menuitemcheckbox",onClick:function(){e.setState({isOpen:!0})}},Nn("Markdown Formatting","block-options")),this.state.isOpen?Object(l.createElement)(Jn,{title:Nn("Keyboard Shortcuts","block-options"),onRequestClose:function(){return e.setState({isOpen:!1})},closeLabel:Nn("Close","block-options"),icon:null,className:"editorskit-modal-component components-modal--editorskit-markdown"},Tn.map((function(e,t){return Object(l.createElement)(n,c()({key:t},e))}))):null)}}]),t}(Ln),$n=Rn(Vn((function(){return{isDisabled:Un("core/edit-post").isFeatureActive("disableEditorsKitMarkdownWriting")}})),zn((function(e){return!e.isDisabled})),qn)(Gn);(0,wp.plugins.registerPlugin)("editorskit-markdown-formatting",{icon:!1,render:$n});var Yn=wp.i18n.__,Qn=wp.data.withSelect,Zn=wp.compose.compose,Xn=wp.element,eo=Xn.Fragment,to=Xn.Component,no=wp.editPost.PluginMoreMenuItem,oo=wp.components.withSpokenMessages,io=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.isDisabled;return!t||n?null:Object(l.createElement)(eo,null,Object(l.createElement)(no,{role:"menuitemcheckbox",onClick:function(){var e=document.querySelectorAll(".edit-post-layout__metaboxes");e[0]&&e[0].scrollIntoView()}},Yn("View Custom Fields","block-options")))}}]),t}(to),ro=Zn([Qn((function(e){return{isActive:e("core/editor").getEditorSettings().enableCustomFields,isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitScrollDownTools")}})),oo])(io);(0,wp.plugins.registerPlugin)("editorskit-scrolldown",{icon:!1,render:ro});var so=n(61),ao=wp.i18n.__,co=wp.compose.compose,lo=wp.element,uo=lo.Fragment,po=lo.Component,bo=wp.editPost.PluginMoreMenuItem,mo=wp.components,fo=mo.withSpokenMessages,ho=mo.Modal,go=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).state={isOpen:!1},e}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this;return Object(l.createElement)(uo,null,Object(l.createElement)(bo,{icon:null,role:"menuitemcheckbox",onClick:function(){e.setState({isOpen:!0})}},ao("EditorsKit Settings","block-options")),this.state.isOpen?Object(l.createElement)(ho,{title:ao("EditorsKit Features Manager","block-options"),onRequestClose:function(){return e.setState({isOpen:!1})},closeLabel:ao("Close","block-options"),icon:null,className:"editorskit-modal-component components-modal--editorskit-features-manager"},Object(l.createElement)(so.a,null)):null)}}]),t}(po),vo=co([fo])(go);(0,wp.plugins.registerPlugin)("editorskit-features-manager",{icon:!1,render:vo});var ko=wp.data,wo=ko.withSelect,yo=ko.dispatch,Oo=wp.compose.compose,jo=wp.blocks.parse,Eo=wp.element.Component,Co=wp.components.withSpokenMessages,So=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).state={isLoaded:!1},e}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){this.addCodeMirror()}},{key:"componentDidUpdate",value:function(){this.addCodeMirror()}},{key:"addCodeMirror",value:function(){var e=this.props,t=e.isDisabled,n=e.editorMode;if(t)return null;if("text"!==n||this.state.isLoaded)"visual"===n&&this.state.isLoaded&&this.setState({isLoaded:!1});else{var o=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{};document.body.classList.add("editorskit-editor-loaded"),o.codemirror=_.extend({},o.codemirror,{mode:"text/html",lineNumbers:!0,indentUnit:2,tabSize:2,height:"auto",lineWrapping:!0,scrollbarStyle:"null"});var i=document.querySelector(".editor-post-text-editor"),r=wp.codeEditor.initialize(i,o);r.codemirror.on("change",(function(e){var t=e.getValue();i.innerHTML=t,yo("core/editor").editPost({content:t})})),r.codemirror.on("blur",(function(e){var t=e.getValue(),n=jo(t);yo("core/editor").resetEditorBlocks(n)})),this.setState({isLoaded:!0})}}},{key:"render",value:function(){return null}}]),t}(Eo),_o=Oo([wo((function(e){return{readyState:document.readyState,isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitCodeHighlightTools"),editorMode:e("core/edit-post").getEditorMode()}})),Co])(So);(0,wp.plugins.registerPlugin)("editorskit-code-editor",{icon:!1,render:_o});var Ao=wp.data.withSelect,Fo=wp.compose.compose,xo=wp.element.Component,Do=wp.components.withSpokenMessages,Po=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){this.sync()}},{key:"componentDidUpdate",value:function(){this.sync()}},{key:"sync",value:function(){this.props.isDisabled?document.body.classList.remove("is-editorskit-heading-label-on"):document.body.classList.add("is-editorskit-heading-label-on")}},{key:"render",value:function(){return null}}]),t}(xo),To=Fo([Ao((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitHeadingLabelWriting")}})),Do])(Po);(0,wp.plugins.registerPlugin)("editorskit-heading-label",{icon:!1,render:To});var No=n(17),Bo=n.n(No),Io=wp.element,Lo=Io.Component,Mo=Io.Fragment,Ko=wp.editor.mediaUpload,Ro=wp.compose.compose,zo=wp.components,Ho=zo.DropZone,Uo=zo.withSpokenMessages,Vo=wp.data,Wo=Vo.withDispatch,qo=Vo.select,Jo=["image"],Go=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).addFile=e.addFile.bind(Ft()(e)),e.onSelectFile=e.onSelectFile.bind(Ft()(e)),e}return Dt()(t,e),jt()(t,[{key:"addFile",value:function(e){var t=this;document.body.classList.add("is-editorskit-uploading-featured"),Ko({allowedTypes:Jo,filesList:e,onFileChange:function(e){var n=Bo()(e,1)[0];return t.onSelectFile(n)}})}},{key:"onSelectFile",value:function(e){e&&e.url&&this.props.onUpdateImage(e)}},{key:"render",value:function(){return Object(l.createElement)(Mo,null,Object(l.createElement)(Ho,{onFilesDrop:this.addFile,label:this.props.label}))}}]),t}(Lo),$o=Ro(Wo((function(e){var t=e("core/editor").editPost;return{onUpdateImage:function(e){t({featured_media:e.id}),qo("core/editor").getEditedPostAttribute("featured_media")===e.id&&document.body.classList.remove("is-editorskit-uploading-featured")},onRemoveImage:function(){t({featured_media:0})}}})),Uo)(Go),Yo=wp.i18n.__,Qo=wp.hooks.applyFilters,Zo=wp.editor.PostFeaturedImageCheck,Xo=wp.blockEditor,ei=Xo.MediaUpload,ti=Xo.MediaUploadCheck,ni=wp.components,oi=ni.Button,ii=ni.Spinner,ri=ni.ResponsiveWrapper,si=["image"],ai=Yo("Featured Image","block-options"),ci=Yo("Set Featured Image","block-options"),li=Yo("Remove Image","block-options"),ui=function(e){var t,n,o,i=e.currentPostId,r=e.featuredImageId,s=e.onUpdateImage,a=e.onRemoveImage,c=e.media,u=e.postType,p=Object(d.get)(u,["labels"],{}),b=Object(l.createElement)("p",null,Yo("To edit the featured image, you need permission to upload media.","block-options"));if(c){var m=Qo("editor.PostFeaturedImage.imageSize","post-thumbnail",c.id,i);Object(d.has)(c,["media_details","sizes",m])?(t=c.media_details.sizes[m].width,n=c.media_details.sizes[m].height,o=c.media_details.sizes[m].source_url):(t=c.media_details.width,n=c.media_details.height,o=c.source_url)}var f=Object(l.createElement)($o,{label:Yo("Upload Featured Image","block-options")});return Object(l.createElement)(Zo,null,Object(l.createElement)("div",{className:"editor-post-featured-image editorskit-post-featured-image"},Object(l.createElement)(ti,{fallback:b},f,Object(l.createElement)("div",{className:"editorskit-post-featured-spinner"},Object(l.createElement)(ii,null)),Object(l.createElement)(ei,{title:p.featured_image||ai,onSelect:s,allowedTypes:si,modalClass:"editor-post-featured-image__media-modal",render:function(e){var i=e.open;return Object(l.createElement)(oi,{className:r?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:i,"aria-label":r?Yo("Edit or update the image","block-options"):null},!!r&&c&&Object(l.createElement)(ri,{naturalWidth:t,naturalHeight:n},Object(l.createElement)("img",{src:o,alt:""})),!!r&&!c&&Object(l.createElement)(ii,null),!r&&(p.set_featured_image||ci))},value:r})),!!r&&c&&!c.isLoading&&Object(l.createElement)(ti,null,Object(l.createElement)(ei,{title:p.featured_image||ai,onSelect:s,allowedTypes:si,modalClass:"editor-post-featured-image__media-modal",render:function(e){var t=e.open;return Object(l.createElement)(oi,{onClick:t,isDefault:!0,isLarge:!0},Yo("Replace Image","block-options"))}})),!!r&&Object(l.createElement)(ti,null,Object(l.createElement)(oi,{onClick:a,isLink:!0,isDestructive:!0},p.remove_featured_image||li))))},pi=wp.hooks.addFilter,di=wp.compose,bi=di.compose,mi=di.createHigherOrderComponent,fi=wp.element.Fragment,hi=wp.components.withSpokenMessages,gi=wp.data,vi=gi.withSelect,ki=gi.withDispatch,wi=bi(vi((function(e){var t=e("core"),n=t.getMedia,o=t.getPostType,i=e("core/editor"),r=i.getCurrentPostId,s=i.getEditedPostAttribute,a=s("featured_media");return{media:a?n(a):null,currentPostId:r(),postType:o(s("type")),featuredImageId:a,isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitDragAndDropFeaturedTools")}})),ki((function(e){var t=e("core/editor").editPost;return{onUpdateImage:function(e){t({featured_media:e.id})},onRemoveImage:function(){t({featured_media:0})}}})),hi);pi("editor.PostFeaturedImage","editorskit/post-featured-image",mi((function(e){return wi((function(t){var n=c()({},t),o=n.isDisabled;return Object(l.createElement)(fi,null,o?Object(l.createElement)(e,n):Object(l.createElement)(ui,n))}))}),"withDragandDropFeaturedImage"));var yi=n(155),Oi=wp.i18n.__,ji=wp.data,Ei=ji.withSelect,Ci=ji.withDispatch,Si=ji.select,_i=ji.subscribe,Ai=wp.compose,Fi=Ai.compose,xi=Ai.ifCondition,Di=wp.element.Component,Pi=wp.blocks.hasBlockSupport,Ti=wp.components.withSpokenMessages,Ni=["core/image","core/gallery","core/cover"],Bi=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).updateMeta=e.updateMeta.bind(Ft()(e)),e.calculateReadingTime=e.calculateReadingTime.bind(Ft()(e)),e.handleButtonClick=e.handleButtonClick.bind(Ft()(e)),e.state={readingTime:0},e}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){this.updateMeta(),document.addEventListener("mousedown",this.handleButtonClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleButtonClick)}},{key:"handleButtonClick",value:function(e){var t=document.querySelector(".table-of-contents button").getAttribute("aria-expanded");if(document.querySelector(".table-of-contents").contains(e.target)&&"false"===t)var n=this.calculateReadingTime(),o=setInterval((function(){document.querySelector(".table-of-contents__popover")&&(document.querySelector(".table-of-contents__counts").insertAdjacentHTML("beforeend",'<li class="table-of-contents__count table-of-contents__wordcount">'.concat(Oi("Reading Time","block-options"),'<span class="table-of-contents__number">').concat(n," min</span></li>")),clearInterval(o))}),100)}},{key:"calculateReadingTime",value:function(){var e=this.props,t=e.content,n=e.blocks,o=Object(yi.count)(t,"words",{})/275*60;if(n){var i=12;Object(d.map)(n,(function(e){(Ni.includes(e.name)||Pi(e.name,"editorsKitWordCount"))&&(o+=i,i>3&&i--)}))}return(o/=60)<1&&(o=1),o.toFixed()}},{key:"updateMeta",value:function(){var e=this,t=this.props.updateReadingTime;return _i((function(){var n=Si("core/editor").isSavingPost(),o=Si("core/editor").isAutosavingPost();if(n&&!o){var i=e.calculateReadingTime();i!==e.state.readingTime&&(e.setState({readingTime:i}),t(parseInt(i)))}}))}},{key:"render",value:function(){return null}}]),t}(Di),Ii=Fi([Ei((function(){return{content:Si("core/editor").getEditedPostAttribute("content"),blocks:Si("core/editor").getEditedPostAttribute("blocks"),isDisabled:Si("core/edit-post").isFeatureActive("disableEditorsKitReadingTimeWriting")}})),Ci((function(e){return{updateReadingTime:function(t){e("core/editor").editPost({meta:{_editorskit_reading_time:t}})}}})),xi((function(e){return!e.isDisabled})),Ti])(Bi);function Li(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mi(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ki(e,t,n){return t&&Mi(e.prototype,t),n&&Mi(e,n),e}function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zi(e){return(zi="function"==typeof Symbol&&"symbol"===Ri(Symbol.iterator)?function(e){return Ri(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":Ri(e)})(e)}function Hi(e,t){return!t||"object"!==zi(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ui(e){return(Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vi(e,t){return(Vi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vi(e,t)}function qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,wp.plugins.registerPlugin)("editorskit-reading-time",{icon:!1,render:Ii});var Ji=n(12),Gi=n.n(Ji),$i=n(9),Yi=n.n($i),Qi=n(32),Zi=n.n(Qi),Xi=n(21),er=n.n(Xi),tr="https://platform.twitter.com/widgets.js";qi(function(e){function t(){return Li(this,t),Hi(this,Ui(t).apply(this,arguments))}return Wi(t,e),Ki(t,[{key:"buildChromeOptions",value:function(e){return e.chrome="",this.props.noHeader&&(e.chrome=e.chrome+" noheader"),this.props.noFooter&&(e.chrome=e.chrome+" nofooter"),this.props.noBorders&&(e.chrome=e.chrome+" noborders"),this.props.noScrollbar&&(e.chrome=e.chrome+" noscrollbar"),this.props.transparent&&(e.chrome=e.chrome+" transparent"),e}},{key:"buildOptions",value:function(){var e=Object.assign({},this.props.options);return this.props.autoHeight&&(e.height=this.refs.embedContainer.parentNode.offsetHeight),e=Object.assign({},e,{theme:this.props.theme,linkColor:this.props.linkColor,borderColor:this.props.borderColor,lang:this.props.lang})}},{key:"renderWidget",value:function(e){this.isMountCanceled||window.twttr.widgets.createTimeline({sourceType:this.props.sourceType,screenName:this.props.screenName,userId:this.props.userId,ownerScreenName:this.props.ownerScreenName,slug:this.props.slug,id:this.props.id||this.props.widgetId,url:this.props.url},this.refs.embedContainer,e)}},{key:"componentDidMount",value:function(){var e=this;er.a.canUseDOM&&n(22)(tr,"twitter-embed",(function(){if(window.twttr){var t=e.buildOptions();t=e.buildChromeOptions(t),e.renderWidget(t)}else console.error("Failure to load window.twttr in TwitterTimelineEmbed, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Gi.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ji.Component),"propTypes",{sourceType:Yi.a.oneOf(["profile","likes","list","collection","URL","widget"]).isRequired,screenName:Zi()(Yi.a.string,(function(e){return!e.hasOwnProperty("userId")&&("profile"===e.sourceType||"likes"===e.sourceType)})),userId:Zi()(Yi.a.number,(function(e){return!e.hasOwnProperty("screenName")&&("profile"===e.sourceType||"likes"===e.sourceType)})),ownerScreenName:Zi()(Yi.a.string,(function(e){return"list"===e.sourceType&&!e.hasOwnProperty("id")})),slug:Zi()(Yi.a.string,(function(e){return"list"===e.sourceType&&!e.hasOwnProperty("id")})),id:Zi()(Yi.a.oneOfType([Yi.a.number,Yi.a.string]),(function(e){return"list"===e.sourceType&&!e.hasOwnProperty("ownerScreenName")&&!e.hasOwnProperty("slug")||"collection"===e.sourceType})),url:Zi()(Yi.a.string,(function(e){return"url"===e.sourceType})),widgetId:Zi()(Yi.a.string,(function(e){return"widget"===e.sourceType})),options:Yi.a.object,autoHeight:Yi.a.bool,theme:Yi.a.oneOf(["dark","light"]),linkColor:Yi.a.string,borderColor:Yi.a.string,noHeader:Yi.a.bool,noFooter:Yi.a.bool,noBorders:Yi.a.bool,noScrollbar:Yi.a.bool,transparent:Yi.a.bool,lang:Yi.a.string}),qi(function(e){function t(){return Li(this,t),Hi(this,Ui(t).apply(this,arguments))}return Wi(t,e),Ki(t,[{key:"componentDidMount",value:function(){var e=this;er.a.canUseDOM&&n(22)(tr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createShareButton(e.props.url,e.refs.embedContainer,e.props.options):console.error("Failure to load window.twttr in TwitterShareButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Gi.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ji.Component),"propTypes",{url:Yi.a.string.isRequired,options:Yi.a.object}),qi(function(e){function t(){return Li(this,t),Hi(this,Ui(t).apply(this,arguments))}return Wi(t,e),Ki(t,[{key:"componentDidMount",value:function(){var e=this;er.a.canUseDOM&&n(22)(tr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createFollowButton(e.props.screenName,e.refs.embedContainer,e.props.options):console.error("Failure to load window.twttr in TwitterFollowButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Gi.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ji.Component),"propTypes",{screenName:Yi.a.string.isRequired,options:Yi.a.object}),qi(function(e){function t(){return Li(this,t),Hi(this,Ui(t).apply(this,arguments))}return Wi(t,e),Ki(t,[{key:"componentDidMount",value:function(){var e=this;er.a.canUseDOM&&n(22)(tr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createHashtagButton(e.props.tag,e.refs.embedContainer,e.props.options):console.error("Failure to load window.twttr in TwitterHashtagButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Gi.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ji.Component),"propTypes",{tag:Yi.a.string.isRequired,options:Yi.a.object}),qi(function(e){function t(){return Li(this,t),Hi(this,Ui(t).apply(this,arguments))}return Wi(t,e),Ki(t,[{key:"componentDidMount",value:function(){var e=this;er.a.canUseDOM&&n(22)(tr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createMentionButton(e.props.screenName,e.refs.embedContainer,e.props.options):console.error("Failure to load window.twttr in TwitterMentionButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Gi.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ji.Component),"propTypes",{screenName:Yi.a.string.isRequired,options:Yi.a.object});var nr=function(e){function t(){return Li(this,t),Hi(this,Ui(t).apply(this,arguments))}return Wi(t,e),Ki(t,[{key:"renderWidget",value:function(){var e=this;window.twttr?this.isMountCanceled||window.twttr.widgets.createTweet(this.props.tweetId,this.refs.embedContainer,this.props.options).then((function(t){e.props.onLoaded&&e.props.onLoaded(t)})):console.error("Failure to load window.twttr in TwitterTweetEmbed, aborting load.")}},{key:"componentDidMount",value:function(){var e=this;er.a.canUseDOM&&n(22)(tr,"twitter-embed",(function(){e.renderWidget()}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Gi.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ji.Component);qi(nr,"propTypes",{tweetId:Yi.a.string.isRequired,options:Yi.a.object,onLoaded:Yi.a.func}),qi(function(e){function t(){return Li(this,t),Hi(this,Ui(t).apply(this,arguments))}return Wi(t,e),Ki(t,[{key:"componentDidMount",value:function(){var e=this;er.a.canUseDOM&&n(22)(tr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createMoment(e.props.momentId,e.refs.shareMoment,e.props.options):console.error("Failure to load window.twttr in TwitterMomentShare, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Gi.a.createElement("div",{ref:"shareMoment"})}}]),t}(Ji.Component),"propTypes",{momentId:Yi.a.string.isRequired,options:Yi.a.object}),qi(function(e){function t(){return Li(this,t),Hi(this,Ui(t).apply(this,arguments))}return Wi(t,e),Ki(t,[{key:"componentDidMount",value:function(){var e=this;er.a.canUseDOM&&n(22)(tr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createDMButton(e.props.id,e.refs.embedContainer,e.props.options):console.error("Failure to load window.twttr in TwitterDMButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Gi.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ji.Component),"propTypes",{id:Yi.a.number.isRequired,options:Yi.a.object}),qi(function(e){function t(){return Li(this,t),Hi(this,Ui(t).apply(this,arguments))}return Wi(t,e),Ki(t,[{key:"componentDidMount",value:function(){var e=this;er.a.canUseDOM&&n(22)(tr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createVideo(e.props.id,e.refs.embedContainer):console.error("Failure to load window.twttr in TwitterVideoEmbed, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Gi.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ji.Component),"propTypes",{id:Yi.a.string.isRequired}),qi(function(e){function t(){return Li(this,t),Hi(this,Ui(t).apply(this,arguments))}return Wi(t,e),Ki(t,[{key:"componentDidMount",value:function(){var e=this;er.a.canUseDOM&&n(22)(tr,"twitter-embed",(function(){window.twttr?e.isMountCanceled||window.twttr.widgets.createPeriscopeOnAirButton(e.props.username,e.refs.embedContainer,e.props.options):console.error("Failure to load window.twttr in TwitterOnAirButton, aborting load.")}))}},{key:"componentWillUnmount",value:function(){this.isMountCanceled=!0}},{key:"render",value:function(){return Gi.a.createElement("div",{ref:"embedContainer"})}}]),t}(Ji.Component),"propTypes",{username:Yi.a.string.isRequired,options:Yi.a.object});var or=wp.i18n,ir=or.__,rr=or.sprintf,sr=wp.element.RawHTML,ar=wp.components.Modal;function cr(e){var t=e.closeModal,n=window.editorskitInfo,o=n.core,i=n.editor,r=n.plugin;return Object(l.createElement)(ar,{title:ir("About Gutenberg Block Editor","block-options"),shouldCloseOnClickOutside:!1,onRequestClose:function(){return t()},closeLabel:ir("Close","block-options"),icon:null,className:"editorskit-modal-component components-modal--editorskit-overview"},Object(l.createElement)("p",null,ir("Version","block-options")," ",Object(l.createElement)("strong",null,i.version)),Object(l.createElement)("p",null,i.is_core?rr(ir("You are using the new block editor bundled on WordPress core %s","block-options"),o.version):Object(l.createElement)(sr,null,rr(ir("You are using the new block editor powered by the %sGutenberg Plugin%s.","block-options"),'<a href="https://wordpress.org/plugins/gutenberg/" target="_blank" rel="noreferrer noopener nofollow">',"</a>"))),Object(l.createElement)("p",null,Object(l.createElement)(sr,null,rr(ir(" Want to help? %sGet involved or report an issue%s.","block-options"),'<a href="https://github.com/WordPress/gutenberg/issues" target="_blank" rel="noreferrer noopener nofollow">',"</a>"))),Object(l.createElement)("p",{className:"editorskit-version-small"},rr(ir("EditorsKit %s","block-options"),r.version)))}var lr=wp.i18n.__,ur=wp.data,pr=ur.withSelect,dr=ur.withDispatch,br=ur.select,mr=wp.compose,fr=mr.compose,hr=mr.ifCondition,gr=wp.element,vr=gr.Fragment,kr=gr.Component,wr=wp.keycodes.DOWN,yr=wp.components,Or=yr.withSpokenMessages,jr=yr.Modal,Er=yr.Button,Cr=yr.IconButton,Sr=yr.Dropdown,_r=yr.NavigableMenu,Ar=["1178226931277287425","1177555440638382080","1179365591553118227","1177920047546650624","1177461678004293637","1178693225923497984","1179727978353135616","1180455552079425537","1178929974247448576","1176395801888604161","1181217763844509696","1177202169310658560"],Fr=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).state={isOpen:!1,isAboutOpen:!1,isLoaded:!1,tweetId:0},e}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){var e=document.querySelector(".editorskit-component-help-tips");e&&(e.parentElement.style.display="block")}},{key:"routeChange",value:function(e){window.open(e,"_blank").focus()}},{key:"tweetLoaded",value:function(){this.setState({isLoaded:!0})}},{key:"nextTweet",value:function(){this.setState({tweetId:this.state.tweetId+1,isOpen:!1})}},{key:"componentDidUpdate",value:function(){this.state.tweetId>0&&!this.state.isOpen&&this.setState({isOpen:!0,isLoaded:!1})}},{key:"render",value:function(){var e=this,t=this.props.onDisable,n=function(){return e.setState({isOpen:!1,isAboutOpen:!1,tweetId:0,isLoaded:!1})};return Object(l.createElement)(vr,null,Object(l.createElement)(Sr,{className:"editorskit-component-help-tips",renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return Object(l.createElement)(Cr,{className:"components-dropdown-menu__toggle",icon:"editor-help",onClick:n,onKeyDown:function(e){t||e.keyCode!==wr||(e.preventDefault(),e.stopPropagation(),n())},"aria-haspopup":"true","aria-expanded":t,label:lr("Help, tips and tricks"),tooltip:lr("Help, tips and tricks")})},renderContent:function(n){var o=n.onClose;return Object(l.createElement)(_r,{className:"editorskit-menu-help-tips",role:"menu"},Object(l.createElement)(Cr,{icon:"info",onClick:function(){o(),e.setState({isAboutOpen:!0})}},lr("About")),Object(l.createElement)(Cr,{icon:"sos",onClick:function(){o(),e.setState({isOpen:!0})}},lr("Tips and Tricks")),Object(l.createElement)(Cr,{icon:"admin-site-alt3",onClick:function(){e.routeChange("https://www.facebook.com/groups/editorskit/")}},lr("EditorsKit Community Help")),Object(l.createElement)("div",{className:"editor-block-settings-menu__separator block-editor-block-settings-menu__separator"}),Object(l.createElement)(Cr,{icon:"dismiss",onClick:t},lr("Remove/Disable Help Button")))}}),this.state.isOpen?Object(l.createElement)(jr,{title:lr("Tips and Tricks","block-options"),shouldCloseOnClickOutside:!1,onRequestClose:function(){return n()},closeLabel:lr("Close","block-options"),icon:null,className:"editorskit-modal-component components-modal--editorskit-help-tips"},Object(l.createElement)(nr,{tweetId:Ar[this.state.tweetId],options:{align:"center",theme:"dark",conversation:"none",dnt:!0},onLoaded:function(){e.tweetLoaded()}}),this.state.isLoaded?Object(l.createElement)("div",{className:"components-modal--editorskit-help-tips-buttons"},Object(l.createElement)(Cr,{isPrimary:!0,isLarge:!0,icon:"twitter",onClick:function(){e.routeChange("https://twitter.com/i/moments/1177466596219949057")}},lr("View All Tips and Tricks","block-options")),Object(l.createElement)(Er,{isDefault:!0,isLarge:!0,onClick:function(){e.nextTweet()}},lr("Next","block-options"))):lr("Fetching...","block-options")):null,this.state.isAboutOpen?Object(l.createElement)(cr,{closeModal:n}):null)}}]),t}(kr),xr=fr([pr((function(){return{isDisabled:br("core/edit-post").isFeatureActive("disableEditorsKitHelpTools")}})),dr((function(e){return{onDisable:function(){e("core/edit-post").toggleFeature("disableEditorsKitHelpTools")}}})),hr((function(e){return!e.isDisabled})),Or])(Fr);(0,wp.plugins.registerPlugin)("editorskit-help-tips",{icon:!1,render:xr});var Dr=n(30),Pr=n.n(Dr),Tr=wp.element.Component,Nr=wp.compose.compose,Br=wp.data,Ir=Br.select,Lr=Br.withSelect,Mr=wp.components.withSpokenMessages,Kr=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"componentDidUpdate",value:function(){var e,t=this.props.blockName;if(!t)return null;var n=new RegExp("\\beditorskit-selected--.*?\\b","g"),o=document.body.classList.value.split(/\s+/).filter((function(e){return n.test(e)}));(e=document.body.classList).remove.apply(e,Pr()(o)),document.body.classList.add("editorskit-selected--"+t.replace("/","-"))}},{key:"render",value:function(){return null}}]),t}(Tr),Rr=Nr(Lr((function(){var e=Ir("core/block-editor").getSelectedBlock();return e?{blockName:e.name}:{}})),Mr)(Kr);(0,wp.plugins.registerPlugin)("editorskit-selected-block",{icon:!1,render:Rr});n(162);var zr=wp.i18n.__,Hr=wp.data,Ur=Hr.select,Vr=Hr.withSelect,Wr=Hr.withDispatch,qr=wp.element,Jr=qr.Fragment,Gr=qr.Component,$r=wp.components.withSpokenMessages,Yr=wp.editPost.PluginBlockSettingsMenuItem,Qr=wp.compose,Zr=Qr.compose,Xr=Qr.ifCondition,es=["core/image"],ts=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.imageID,n=e.featuredImageID,o=e.onUpdateImage,i=e.onRemoveImage;return Object(l.createElement)(Jr,null,Object(l.createElement)(Yr,{icon:"format-image",label:zr(t===n?"Remove as Featured Image":"Set as Featured Image","block-options"),onClick:function(){t===n?i():o(t)}}))}}]),t}(Gr),ns=Zr(Vr((function(){var e=Ur("core/block-editor").getSelectedBlock();return e?{featuredImageID:Ur("core/editor").getEditedPostAttribute("featured_media"),blockName:e.name,imageID:Object(d.get)(e,"attributes.id"),isDisabled:Ur("core/edit-post").isFeatureActive("disableEditorsKitSetAsFeaturedOptions")}:{}})),Wr((function(e){var t=e("core/editor").editPost,n=e("core/notices").createNotice;return{onUpdateImage:function(e){t({featured_media:e}),n("info",zr("Image Set as Featured.","block-options"),{isDismissible:!0,type:"snackbar"})},onRemoveImage:function(){t({featured_media:0}),n("info",zr("Featured Image Removed.","block-options"),{isDismissible:!0,type:"snackbar"})}}})),Xr((function(e){return!e.isDisabled&&es.includes(e.blockName)&&void 0!==e.imageID})),$r)(ts);function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?os(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,wp.plugins.registerPlugin)("editorskit-set-as-featured-image",{icon:"format-image",render:ns});var rs=wp.i18n.__,ss=wp.data,as=ss.select,cs=ss.withSelect,ls=ss.withDispatch,us=wp.element,ps=us.Fragment,ds=us.Component,bs=wp.components.withSpokenMessages,ms=wp.editPost.PluginBlockSettingsMenuItem,fs=wp.compose,hs=fs.compose,gs=fs.ifCondition,vs=wp.richText,ks=vs.create,ws=vs.toHTMLString,ys=["core/paragraph","core/heading"],Os=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.blockId,n=e.blockName,o=e.blockContent,i=e.clearBlockFormatting,r=ks({html:o});return Object(l.createElement)(ps,null,Object(l.createElement)(ms,{icon:"editor-removeformatting",label:rs("Clear Block Formatting","block-options"),onClick:function(){i(t,n,ws({value:is({},r,{formats:Array(r.formats.length)})}))}}))}}]),t}(ds),js=hs(cs((function(){var e=as("core/block-editor").getSelectedBlock();return e?{blockId:e.clientId,blockName:e.name,blockContent:Object(d.get)(e,"attributes.content"),isDisabled:as("core/edit-post").isFeatureActive("disableEditorsKitClearFormattingFormats")}:{}})),ls((function(e){var t=e("core/block-editor").updateBlockAttributes;return{clearBlockFormatting:function(e,n,o){t(e,{content:o})}}})),gs((function(e){return!e.isDisabled&&ys.includes(e.blockName)})),bs)(Os);(0,wp.plugins.registerPlugin)("editorskit-block-clear-formatting",{icon:"editor-removeformatting",render:js});var Es=wp.i18n.__,Cs=wp.data.dispatch,Ss=wp.element.Fragment,_s=wp.components.TextareaControl,As=function(e){var t=e.clientId,n=e.attributes,o=e.reloadModal,i=n.editorskit;return Object(l.createElement)(Ss,null,Object(l.createElement)("div",{className:"editorskit-button-group-container editorskit-button-group-logic"},Object(l.createElement)(_s,{rows:"2",label:Es("Conditional Logic","block-options"),help:Es("Add valid PHP conditional tags for custom & advanced visibility options.","block-options"),value:i.logic?i.logic:null,onChange:function(e){delete i.logic;var n=Object.assign({logic:e},i);Cs("core/block-editor").updateBlockAttributes(t,{editorskit:n}),o&&o()}})))},Fs=n(15),xs=n.n(Fs);function Ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ds(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ds(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ts=wp.apiFetch,Ns=wp.data.registerStore,Bs={setACFields:function(e){return{type:"SET_ACF_FIELDS",ACFfields:e}},receiveACFields:function(e){return{type:"RECEIVE_ACF_FIELDS",path:e}},fetchFromAPI:function(e){return{type:"FETCH_FROM_API",path:e}}};Ns("editorskit/acf",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ACFfields:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACF_FIELDS":return Ps({},e,{ACFfields:t.ACFfields});case"RECEIVE_ACF_FIELDS":return t.ACFfields}return e},actions:Bs,selectors:{receiveACFields:function(e){return e.ACFfields}},controls:{FETCH_FROM_API:function(e){return Ts({path:e.path})}},resolvers:{receiveACFields:xs.a.mark((function e(){var t;return xs.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/editorskit/v1/acf",e.next=3,Bs.fetchFromAPI("/editorskit/v1/acf");case 3:return t=e.sent,e.next=6,Bs.setACFields(t);case 6:case"end":return e.stop()}}),e)}))}});var Is=wp.i18n.__,Ls=wp.data,Ms=Ls.dispatch,Ks=Ls.withSelect,Rs=wp.element,zs=Rs.Fragment,Hs=Rs.Component,Us=wp.components,Vs=Us.SelectControl,Ws=Us.TextareaControl,qs=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.acf,n=e.selectedBlock,o=n.clientId,i=n.attributes,r=n.reloadModal,a=i.editorskit,c=function(e,t){delete a[e];var n=Object.assign(s()({},e,t),a);Ms("core/block-editor").updateBlockAttributes(o,{editorskit:n}),r&&r()},u=[{label:Is("Select Field","block-options"),value:""}];if(t){if(void 0!==t&&!Object(d.isEmpty)(t)){var p=t;for(var b in p)u.push({label:p[b],value:b});return Object(l.createElement)(zs,null,Object(l.createElement)("div",{className:"editorskit-button-group-container editorskit-button-group-acf"},Object(l.createElement)("label",{className:"components-base-control__label"},Is("Advanced Custom Fields","block-options"))," ",Object(l.createElement)(Vs,{value:void 0!==a.acf_visibility&&""!==a.acf_visibility?a.acf_visibility:"",options:[{label:Is("Select Visibility Option","block-options"),value:"none"},{label:Is("Hide when Condition's met","block-options"),value:"hide"},{label:Is("Show when Condition's met","block-options"),value:"show"}],onChange:function(e){return c("acf_visibility",e)}}),Object(l.createElement)(Vs,{value:void 0!==a.acf_field&&""!==a.acf_field?a.acf_field:"",options:u,onChange:function(e){return c("acf_field",e)}}),Object(l.createElement)(Vs,{value:void 0!==a.acf_condition&&""!==a.acf_condition?a.acf_condition:"",options:[{label:Is("Select Condition","block-options"),value:"none"},{label:Is("Is Equal to","block-options"),value:"equal"},{label:Is("Is Not Equal to","block-options"),value:"not_equal"},{label:Is("Contains","block-options"),value:"contains"},{label:Is("Does Not Contain","block-options"),value:"not_contains"},{label:Is("Is Empty","block-options"),value:"empty"},{label:Is("Is Not Empty","block-options"),value:"not_empty"}],onChange:function(e){return c("acf_condition",e)}}),Object(l.createElement)(Ws,{label:Is("Conditional Value","block-options"),rows:"3",value:a.acf_value,onChange:function(e){return c("acf_value",e)},help:Is("Additional support for Advanced Custom Fields plugin. Will automatically show when you have the plugin installed and activated.","block-options")})))}return null}}}]),t}(Hs),Js=Ks((function(e){return{acf:e("editorskit/acf").receiveACFields()}}))(qs),Gs=wp.i18n.__,$s=wp.data.withSelect,Ys=wp.element,Qs=Ys.Fragment,Zs=Ys.Component,Xs=wp.components,ea=Xs.Modal,ta=Xs.TabPanel,na=Xs.withSpokenMessages,oa=wp.editPost.PluginBlockSettingsMenuItem,ia=wp.compose.compose,ra=["core/freeform","core/shortcode","core/block","core/template","editorskit/import"],sa=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).reloadModal=e.reloadModal.bind(Ft()(e)),e.state={settings:"",isOpen:!1,reload:!1},e}return Dt()(t,e),jt()(t,[{key:"reloadModal",value:function(){this.setState({reload:!this.state.reload})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isDisabledDevices,o=t.isDisabledUserState,i=t.isDisabledLogic,r=t.isDisabledACF,s=this.props.selectedBlock;s=Object.assign({reloadModal:this.reloadModal},s);var a=[];return n&&o||a.push({name:"default",title:Gs("Default","block-options"),className:"editorskit-default"}),i&&r||a.push({name:"advanced",title:Gs("Advanced","block-options"),className:"editorskit-advanced"}),n&&o&&i&&r?null:void 0!==s.name&&ra.includes(s.name)?null:Object(l.createElement)(Qs,null,Object(l.createElement)(oa,{icon:"visibility",label:Gs("Visibility Settings","block-options"),onClick:function(){e.setState({isOpen:!0})}}),this.state.isOpen&&void 0!==s.name&&!ra.includes(s.name)?Object(l.createElement)(ea,{title:Gs("Visibility Settings","block-options"),onRequestClose:function(){return e.setState({isOpen:!1})},closeLabel:Gs("Close","block-options"),className:"editorskit-components-modal__content"},Object(l.createElement)(ta,{className:"editorskit-tab-panel",activeClass:"is-active",tabs:a},(function(e){switch(e.name){case"advanced":return[!i&&As(s),!r&&Object(l.createElement)(Js,{selectedBlock:s})];default:return[Object(l.createElement)("small",null,Gs("Attention: The display settings (show/hide for mobile, tablet, desktop or users) will only take effect once you are on the live page, and not while you're editing in Gutenberg.","block-options")),!n&&Ve(s),!o&&$e(s)]}}))):null)}}]),t}(Zs),aa=ia($s((function(e){var t=e("core/block-editor").getSelectedBlock();return t?{selectedBlock:t,isDisabledDevices:e("core/edit-post").isFeatureActive("disableEditorsKitDevicesVisibility"),isDisabledUserState:e("core/edit-post").isFeatureActive("disableEditorsKitUserStateVisibility"),isDisabledLogic:e("core/edit-post").isFeatureActive("disableEditorsKitLogicVisibility"),isDisabledACF:e("core/edit-post").isFeatureActive("disableEditorsKitAcfVisibility")}:{}})),na)(sa);(0,wp.plugins.registerPlugin)("editorskit-block-settings",{icon:"visibility",render:aa});var ca=n(31),la=n.n(ca);function ua(e,t,n){var o=new window.Blob([t],{type:n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(o,e);else{var i=document.createElement("a");i.href=URL.createObjectURL(o),i.download=e,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}function pa(){return(pa=la()(xs.a.mark((function e(t){var n,o,i,r,s;return xs.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wp.apiFetch({path:"/wp/v2/types/wp_block"});case 2:return n=e.sent,e.next=5,wp.apiFetch({path:"/wp/v2/".concat(n.rest_base,"/").concat(t,"?context=edit")});case 5:o=e.sent,i=o.title.raw,r=o.content.raw,s=JSON.stringify({__file:"wp_block",title:i,content:r},null,2),ua(Object(d.kebabCase)(i)+".json",s,"application/json");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var da=function(e){return pa.apply(this,arguments)},ba=wp.i18n.__,ma=wp.data,fa=ma.withSelect,ha=ma.select,ga=wp.compose,va=ga.compose,ka=ga.ifCondition,wa=wp.element,ya=wa.Fragment,Oa=wa.Component,ja=wp.editPost.PluginBlockSettingsMenuItem,Ea=wp.components.withSpokenMessages,Ca=wp.blocks.serialize,Sa=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).saveAsJSON=e.saveAsJSON.bind(Ft()(e)),e}return Dt()(t,e),jt()(t,[{key:"saveAsJSON",value:function(){var e=this.props,t=e.selectedBlockCount,n=e.selectedBlock,o=e.selectedBlocks;if(!(t<1)){var i;if(1===t){if("core/block"===n.name)return void da(n.attributes.ref);i=Ca(n)}t>1&&(i=Ca(o));var r=JSON.stringify({__file:"core_block",content:i},null,2);ua(Object(d.kebabCase)("editorskit/export")+".json",r,"application/json")}}},{key:"render",value:function(){return Object(l.createElement)(ya,null,Object(l.createElement)(ja,{icon:"share-alt2",label:ba("Export as JSON","block-options"),onClick:this.saveAsJSON}))}}]),t}(Oa),_a=va([fa((function(){var e=ha("core/block-editor"),t=e.getSelectedBlockCount,n=e.getSelectedBlock,o=e.getMultiSelectedBlocks,i=ha("core/block-editor").getBlock;return{selectedBlockCount:t(),selectedBlock:n(),selectedBlocks:o(),isDisabled:ha("core/edit-post").isFeatureActive("disableEditorsKitExportOptions"),getBlock:i}})),ka((function(e){return!e.isDisabled})),Ea])(Sa);(0,wp.plugins.registerPlugin)("editorskit-features-import-export",{icon:!1,render:_a});var Aa={};Aa.copy=Object(l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.createElement)("path",{fill:"none",d:"M0 0h24v24H0z"}),Object(l.createElement)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}));var Fa=Aa,xa=wp.i18n.__,Da=wp.data,Pa=Da.select,Ta=Da.withSelect,Na=Da.withDispatch,Ba=wp.element,Ia=Ba.Fragment,La=Ba.Component,Ma=wp.components,Ka=Ma.withSpokenMessages,Ra=Ma.ClipboardButton,za=wp.editPost.PluginBlockSettingsMenuItem,Ha=wp.compose,Ua=Ha.compose,Va=Ha.ifCondition,Wa=wp.blocks.serialize,qa=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).getSelection=e.getSelection.bind(Ft()(e)),e}return Dt()(t,e),jt()(t,[{key:"getSelection",value:function(){var e,t=this.props,n=t.selectedBlockCount,o=t.selectedBlock,i=Pa("core/block-editor").getMultiSelectedBlocks();return 1===n&&(e=Wa(o)),Object(d.size)(i)>0&&(e=Wa(i)),e}},{key:"render",value:function(){var e=this.props,t=e.onCopy,n=e.selectedBlock,o=Pa("core/block-editor").getMultiSelectedBlocks();return!(!n&&Object(d.size)(o)<1)&&Object(l.createElement)(Ia,null,Object(l.createElement)(za,{icon:null,label:Object(l.createElement)(Ra,{text:this.getSelection(),icon:Fa.copy,onCopy:t},xa("Copy","block-options")),onClick:function(){}}))}}]),t}(La),Ja=Ua(Ta((function(){var e=Pa("core/block-editor"),t=e.getSelectedBlockCount,n=e.getSelectedBlock,o=e.getMultiSelectedBlocks;return n()?{selectedBlockCount:t(),selectedBlock:n(),selectedBlocks:o(),isDisabled:Pa("core/edit-post").isFeatureActive("disableEditorsKitCopyOptions")}:{}})),Na((function(e){var t=e("core/notices").createNotice;return{onCopy:function(){var e=Pa("core/block-editor").getMultiSelectedBlocks(),n=xa("Selected block copied.","block-options");Object(d.size)(e)>0&&(n=xa("Selected blocks copied.","block-options")),t("info",n,{isDismissible:!0,type:"snackbar"})}}})),Va((function(e){return!e.isDisabled})),Ka)(qa);(0,wp.plugins.registerPlugin)("editorskit-copy",{icon:Fa.copy,render:Ja});var Ga=wp.i18n.__,$a=wp.element.Component,Ya=wp.compose,Qa=Ya.compose,Za=Ya.ifCondition,Xa=wp.data,ec=Xa.select,tc=Xa.withSelect,nc=Xa.withDispatch,oc=wp.blockEditor.RichTextToolbarButton,ic=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.blockId,n=e.isBlockJustified,o=e.isDisabled,i=e.updateBlockAttributes;if(o)return null;return Object(l.createElement)(oc,{icon:"editor-justify",title:Ga("Justify","block-options"),onClick:function(){i(t,{align:n?null:"justify"})},isActive:n})}}]),t}($a),rc=Qa(tc((function(){var e=ec("core/block-editor").getSelectedBlock();return e?{blockId:e.clientId,blockName:e.name,isBlockJustified:"justify"===Object(d.get)(e,"attributes.align"),isDisabled:ec("core/edit-post").isFeatureActive("disableEditorsKitJustifyFormats"),formatTypes:ec("core/rich-text").getFormatTypes()}:{}})),nc((function(e){return{updateBlockAttributes:e("core/block-editor").updateBlockAttributes}})),Za((function(e){var t=e.formatTypes.filter((function(e){return"wpcom/justify"===e.name}));return"core/paragraph"===e.blockName&&0===t.length})))(ic),sc=wp.i18n.__,ac=wp.element.Fragment,cc={name:"editorskit/justify",title:sc("Align text justify","block-options"),tagName:"p",className:null,attributes:{style:"style"},edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(l.createElement)(ac,null,Object(l.createElement)(rc,{name:"editorskit/justify",isActive:t,value:n,onChange:o,activeAttributes:i}))}},lc=wp.i18n.__,uc=wp.element,pc=uc.Component,dc=uc.Fragment,bc=wp.data,mc=bc.select,fc=bc.withSelect,hc=wp.blockEditor,gc=hc.BlockControls,vc=hc.getColorClassName,kc=hc.getColorObjectByColorValue,wc=hc.getColorObjectByAttributeValues,yc=wp.richText,Oc=yc.applyFormat,jc=yc.removeFormat,Ec=yc.getActiveFormat,Cc=wp.components,Sc=Cc.Toolbar,_c=Cc.IconButton,Ac=Cc.Popover,Fc=Cc.ColorPalette,xc=wp.compose,Dc=xc.compose,Pc=xc.ifCondition,Tc=lc("Text Color","block-options"),Nc=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).toggle=e.toggle.bind(Ft()(e)),e.state={isOpen:!1},e}return Dt()(t,e),jt()(t,[{key:"toggle",value:function(){this.setState((function(e){return{isOpen:!e.isOpen}}))}},{key:"render",value:function(){var e,t=this,n=this.state.isOpen,o=this.props,i=o.value,r=o.onChange,s=o.colors,a=Ec(i,"editorskit/color");if(a){var c=a.attributes.style;c&&(e=c.replace(new RegExp("^color:\\s*"),""));var u=a.attributes.class;if(u){var p=u.replace(/.*has-(.*?)-color.*/,"$1");e=wc(s,p).color}}return Object(l.createElement)(dc,null,Object(l.createElement)(gc,null,Object(l.createElement)(Sc,{className:"editorskit-components-toolbar"},Object(l.createElement)(_c,{className:"components-button components-icon-button components-editorskit-toolbar__control components-toolbar__control components-editorskit-color-format",icon:"editor-textcolor","aria-haspopup":"true",tooltip:Tc,onClick:this.toggle},Object(l.createElement)("span",{className:"components-editorskit-inline-color__indicator",style:{backgroundColor:e}})),n&&Object(l.createElement)(Ac,{position:"bottom center",className:"components-editorskit__inline-color-popover",focusOnMount:"container",onClickOutside:function(e){e.target.classList.contains("components-editorskit-color-format")||document.querySelector(".components-editorskit-color-format").contains(e.target)||document.querySelector(".components-color-palette__picker")&&(!document.querySelector(".components-color-palette__picker")||document.querySelector(".components-color-palette__picker").contains(e.target))||t.setState({isOpen:!n})}},Object(l.createElement)(Fc,{colors:s,value:e,onChange:function(e){if(e){var t=null;void 0!==window.editorskitInfo&&window.editorskitInfo.supports.color_palette&&(t=kc(s,e)),r(Oc(i,{type:"editorskit/color",attributes:t?{class:vc("color",t.slug)}:{style:"color:".concat(e)}}))}else r(jc(i,"editorskit/color"))}})))))}}]),t}(pc),Bc=Dc(fc((function(){var e=mc("core/block-editor").getSettings().colors;return{colors:e||[],isDisabled:mc("core/edit-post").isFeatureActive("disableEditorsKitColorsFormats")}})),Pc((function(e){return!e.isDisabled})))(Nc),Ic={name:"editorskit/color",title:(0,wp.i18n.__)("Text Color","block-options"),tagName:"span",className:"has-inline-color",attributes:{style:"style",class:"class"},edit:Bc},Lc={};Lc.highlighter=Object(l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",viewBox:"0 0 512 512"}," ",Object(l.createElement)("path",{d:"M240.2,369.1 C244.39999999999998,373.3 251.2,373 255.10000000000002,368.6 L465.7,125.4 C474.5,115.3 474,100.2 464.5,90.7 L426.3,52.5 C416.8,43 401.7,42.5 391.6,51.3 L148.4,262 C143.9,265.9 143.7,272.7 147.9,276.9 L240.2,369.1 z",id:"svg_2"})," ",Object(l.createElement)("path",{d:"M48.2,449.7 L86.5,462.5 L104.5,444.5 L172.1,444.5 C174.8,444.5 177.4,443.4 179.3,441.5 L205.1,415.7 C209.1,411.7 209.1,405.3 205.1,401.3 L111.6,308 C107.6,304 101.19999999999999,304 97.19999999999999,308 L71.4,333.8 C69.5,335.7 68.4,338.3 68.4,341 L68.4,404.4 C68.4,407.1 67.3,409.7 65.4,411.6 L44.099999999999994,432.9 C38.900000000000006,438.2 41.099999999999994,447.3 48.2,449.7 z",id:"svg_3"})," ");var Mc=Lc,Kc=wp.i18n.__,Rc=wp.element,zc=Rc.Component,Hc=Rc.Fragment,Uc=wp.data,Vc=Uc.select,Wc=Uc.withSelect,qc=wp.blockEditor,Jc=qc.BlockControls,Gc=qc.getColorClassName,$c=qc.getColorObjectByColorValue,Yc=qc.getColorObjectByAttributeValues,Qc=wp.richText,Zc=Qc.applyFormat,Xc=Qc.removeFormat,el=Qc.getActiveFormat,tl=wp.components,nl=tl.Toolbar,ol=tl.IconButton,il=tl.Popover,rl=tl.ColorPalette,sl=wp.compose,al=sl.compose,cl=sl.ifCondition,ll=Kc("Highlight Color","block-options"),ul=[{name:Kc("Orange Sunrise","block-options"),slug:"orange-sunrise",color:"#f7cc62"},{name:Kc("Pink Flamingo","block-options"),slug:"pink-flamingo",color:"#ffbfb5"},{name:Kc("Spring Green","block-options"),slug:"spring-green",color:"#b5dcaf"},{name:Kc("Blue Moon","block-options"),slug:"blue-moon",color:"#d6e8fa"},{name:Kc("Purple Mist","block-options"),slug:"purple-mist",color:"#d8c3ff"}],pl=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).toggle=e.toggle.bind(Ft()(e)),e.state={isOpen:!1},e}return Dt()(t,e),jt()(t,[{key:"toggle",value:function(){this.setState((function(e){return{isOpen:!e.isOpen}}))}},{key:"render",value:function(){var e,t=this,n=this.state.isOpen,o=this.props,i=o.value,r=o.onChange,s=o.isActive,a=o.colors,c=el(i,"editorskit/background");if(c){var u=c.attributes.style;u&&(e=u.replace(new RegExp("^background-color:\\s*"),""));var d=c.attributes.class;if(d){var b=d.replace(/.*has-(.*?)-background-color.*/,"$1");e=Yc(a,b).color}}return Object(l.createElement)(Hc,null,Object(l.createElement)(Jc,null,Object(l.createElement)(nl,{className:"editorskit-components-toolbar"},Object(l.createElement)(ol,{className:p()("components-button components-icon-button components-editorskit-toolbar__control components-toolbar__control components-editorskit-background-format",{"is-active":s}),icon:Mc.highlighter,"aria-haspopup":"true",tooltip:ll,onClick:this.toggle}),n&&Object(l.createElement)(il,{position:"bottom center",className:"components-editorskit__inline-color-popover",focusOnMount:"container",onClickOutside:function(e){e.target.classList.contains("components-editorskit-background-format")||document.querySelector(".components-editorskit-background-format").contains(e.target)||document.querySelector(".components-color-palette__picker")&&(!document.querySelector(".components-color-palette__picker")||document.querySelector(".components-color-palette__picker").contains(e.target))||t.setState({isOpen:!n})}},Object(l.createElement)(rl,{colors:a,value:e,onChange:function(e){if(e){var t=null;void 0!==window.editorskitInfo&&window.editorskitInfo.supports.color_palette&&(t=$c(a,e)),r(Zc(i,{type:"editorskit/background",attributes:t?{class:Gc("background-color",t.slug)}:{style:"background-color:".concat(e)}}))}else r(Xc(i,"editorskit/background"))}})))))}}]),t}(zc),dl=al(Wc((function(){var e=Vc("core/block-editor").getSettings().colors;return{colors:e||ul,isDisabled:Vc("core/edit-post").isFeatureActive("disableEditorsKitHighlightFormats")}})),cl((function(e){return!e.isDisabled})))(pl),bl={name:"editorskit/background",title:(0,wp.i18n.__)("Background Color","block-options"),tagName:"span",className:"has-inline-background",attributes:{style:"style",class:"class"},edit:dl},ml=n(20),fl=n.n(ml);function hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var gl=wp.element.Component,vl=wp.compose,kl=vl.compose,wl=vl.ifCondition,yl=wp.data,Ol=yl.select,jl=yl.withSelect,El=yl.withDispatch,Cl=wp.richText,Sl=Cl.applyFormat,_l=Cl.getTextContent,Al=Cl.remove,Fl=wp.components.withSpokenMessages,xl=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).state={start:null,end:null},e}return Dt()(t,e),jt()(t,[{key:"_experimentalMarkdown",value:function(e,t,n,o){var i=e.start,r=_l(e);if(r.slice(i-1,i)!==n)return e;var a=r.slice(0,i-1).lastIndexOf(n);if(-1===a)return e;var c=a,l=i-2;if(c===l)return e;if(r.slice(c,l+1).split("\n").length>1)return e;var u=function(e){var t=e.formats,n=e.start,o=e.end,i=e.activeFormats;if(void 0===n)return[];if(n===o){if(i)return i;var r=t[n-1]||[],s=t[n]||[];return r.length<s.length?r:s}return t[n]||[]}(e);if(u.length>0&&u.filter((function(e){return"core/code"===e.type})))return e;var p=r.slice(c-1,c);return 1===p.length&&p.match(/[A-Z|a-z]/i)?e:" "===r.slice(c+1,c+2)?e:(e=Al(e,c,c+1),e=Al(e,l,l+1),e=Sl(e,{type:o},c,l),wp.data.dispatch("core/block-editor").stopTyping(),this.setState({start:c,end:l}),e.activeFormats=[],t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hl(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hl(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{needsSelectionUpdate:!0})),e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,o=t.onChange;return fl()({bold:{markdown:"*",format:"core/bold"},italic:{markdown:"_",format:"core/italic"},strikethrough:{markdown:"~",format:"core/strikethrough"}},(function(t){e._experimentalMarkdown(n,o,t.markdown,t.format)})),null}}]),t}(gl),Dl=kl(jl((function(){return{isDisabled:Ol("core/edit-post").isFeatureActive("disableEditorsKitMarkdownWriting")}})),El((function(e,t){var n=t.clientId,o=t.instanceId,i=t.identifier,r=void 0===i?o:i,s=e("core/block-editor").selectionChange;return{onSelectionChange:function(e,t){s(n,r,e,t)}}})),wl((function(e){return!e.isDisabled})),Fl)(xl),Pl=wp.i18n.__,Tl=wp.element.Fragment,Nl={name:"editorskit/markdown",title:Pl("Underline","block-options"),tagName:"p",className:"editorskit-markdown",attributes:{style:"style"},edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(l.createElement)(Tl,null,Object(l.createElement)(Dl,{name:"editorskit/markdown",isActive:t,value:n,onChange:o,activeAttributes:i}))}},Bl={};Bl.subscript=Object(l.createElement)("svg",{viewBox:"-85 -975 1024 1024",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(l.createElement)("path",{"aria-hidden":"true",role:"img",focusable:"false",transform:"scale(1, -1)",translate:"(0, -960)",d:"M768 50v-50h128v-64h-192v146l128 60v50h-128v64h192v-146zM676 704h-136l-188-188-188 188h-136l256-256-256-256h136l188 188 188-188h136l-256 256z"}));var Il=Bl,Ll=wp.i18n.__,Ml=wp.element,Kl=Ml.Fragment,Rl=Ml.Component,zl=wp.compose,Hl=zl.compose,Ul=zl.ifCondition,Vl=wp.data,Wl=Vl.select,ql=Vl.withSelect,Jl=wp.blockEditor,Gl=Jl.RichTextToolbarButton,$l=Jl.RichTextShortcut,Yl=wp.richText,Ql=Yl.toggleFormat,Zl=Yl.removeFormat,Xl=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,o=e.isActive,i=e.onChange,r=function(){var e=Zl(n,"editorskit/superscript");i(Ql(e,{type:t}))};return Object(l.createElement)(Kl,null,Object(l.createElement)($l,{type:"primary",character:",",onUse:r}),Object(l.createElement)(Gl,{icon:Il.subscript,title:Ll("Subscript","block-options"),onClick:r,isActive:o}))}}]),t}(Rl),eu=Hl(ql((function(){return{isDisabled:Wl("core/edit-post").isFeatureActive("disableEditorsKitSubscriptFormats")}})),Ul((function(e){return!e.isDisabled})))(Xl),tu=wp.i18n.__,nu=wp.element.Fragment,ou={name:"editorskit/subscript",title:tu("Subscript","block-options"),tagName:"sub",className:null,edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(l.createElement)(nu,null,Object(l.createElement)(eu,{name:"editorskit/subscript",isActive:t,value:n,onChange:o,activeAttributes:i}))}},iu={};iu.superscript=Object(l.createElement)("svg",{viewBox:"-85 -985 1024 1024",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(l.createElement)("path",{"aria-hidden":"true",role:"img",focusable:"false",transform:"scale(1, -1)",translate:"(0, -960)",d:"M768 754v-50h128v-64h-192v146l128 60v50h-128v64h192v-146zM676 704h-136l-188-188-188 188h-136l256-256-256-256h136l188 188 188-188h136l-256 256z"}));var ru=iu,su=wp.i18n.__,au=wp.element,cu=au.Fragment,lu=au.Component,uu=wp.compose,pu=uu.compose,du=uu.ifCondition,bu=wp.data,mu=bu.select,fu=bu.withSelect,hu=wp.blockEditor,gu=hu.RichTextToolbarButton,vu=hu.RichTextShortcut,ku=wp.richText,wu=ku.toggleFormat,yu=ku.removeFormat,Ou=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,o=e.isActive,i=e.onChange,r=function(){var e=yu(n,"editorskit/subscript");i(wu(e,{type:t}))};return Object(l.createElement)(cu,null,Object(l.createElement)(vu,{type:"primary",character:".",onUse:r}),Object(l.createElement)(gu,{icon:ru.superscript,title:su("Superscript","block-options"),onClick:r,isActive:o}))}}]),t}(lu),ju=pu(fu((function(){return{isDisabled:mu("core/edit-post").isFeatureActive("disableEditorsKitSuperscriptFormats")}})),du((function(e){return!e.isDisabled})))(Ou),Eu=wp.i18n.__,Cu=wp.element.Fragment,Su={name:"editorskit/superscript",title:Eu("Superscript","block-options"),tagName:"sup",className:null,edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(l.createElement)(Cu,null,Object(l.createElement)(ju,{name:"editorskit/superscript",isActive:t,value:n,onChange:o,activeAttributes:i}))}};function _u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var Au=wp.i18n.__,Fu=wp.element.Component,xu=wp.compose,Du=xu.compose,Pu=xu.ifCondition,Tu=wp.data,Nu=Tu.select,Bu=Tu.withSelect,Iu=wp.blockEditor.RichTextToolbarButton,Lu=wp.richText.removeFormat,Mu=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.isActive,o=e.onChange;return Object(l.createElement)(Iu,{icon:"editor-removeformatting",title:Au("Clear Formatting","block-options"),onClick:function(){var e=Nu("core/rich-text").getFormatTypes();if(e.length>0){var n=t;fl()(e,(function(e){n=Lu(n,e.name)})),o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_u(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_u(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n))}},isActive:n})}}]),t}(Fu),Ku=Du(Bu((function(){return{isDisabled:Nu("core/edit-post").isFeatureActive("disableEditorsKitClearFormattingFormats")}})),Pu((function(e){return!e.isDisabled})))(Mu),Ru=wp.i18n.__,zu=wp.element.Fragment,Hu={name:"editorskit/clear-formatting",title:Ru("Clear Formatting","block-options"),tagName:"span",className:"editorskit-clear-formatting",edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(l.createElement)(zu,null,Object(l.createElement)(Ku,{name:"editorskit/clear-formatting",isActive:t,value:n,onChange:o,activeAttributes:i}))}},Uu={};Uu.uppercase=Object(l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"300",width:"300",version:"1",viewBox:"0 0 24 24"}," ",Object(l.createElement)("path",{d:"M22,7.7h-4V19h-2.1V7.7H13V6h9V7.7z"})," ",Object(l.createElement)("path",{d:"M11,7.7H8V19H5.9V7.7H2V6h9V7.7z"})," ");var Vu=Uu,Wu=wp.i18n.__,qu=wp.element.Component,Ju=wp.compose,Gu=Ju.compose,$u=Ju.ifCondition,Yu=wp.data.withSelect,Qu=wp.blockEditor.RichTextToolbarButton,Zu=wp.richText.toggleFormat,Xu=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.isActive,o=e.value,i=e.name;return Object(l.createElement)(Qu,{icon:Vu.uppercase,title:Wu("Uppercase","block-options"),onClick:function(){t(Zu(o,{type:i}))},isActive:n})}}]),t}(qu),ep=Gu(Yu((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitUppercaseFormats"),formatTypes:e("core/rich-text").getFormatTypes()}})),$u((function(e){var t=e.formatTypes.filter((function(e){return"coblocks/uppercase"===e.name}));return!e.isDisabled&&0===t.length})))(Xu),tp=wp.i18n.__,np=wp.element.Fragment,op={name:"editorskit/uppercase",title:tp("Uppercase","block-options"),tagName:"span",className:"uppercase",edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(l.createElement)(np,null,Object(l.createElement)(ep,{name:"editorskit/uppercase",isActive:t,value:n,onChange:o,activeAttributes:i}))}},ip=wp.url,rp=ip.getProtocol,sp=ip.isValidProtocol,ap=ip.getAuthority,cp=ip.isValidAuthority,lp=ip.getPath,up=ip.isValidPath,pp=ip.getQueryString,dp=ip.isValidQueryString,bp=ip.getFragment,mp=ip.isValidFragment,fp=wp.i18n,hp=fp.__,gp=fp.sprintf;function vp(e){if(!e)return!1;var t=e.trim();if(!t)return!1;if(/^\S+:/.test(t)){var n=rp(t);if(!sp(n))return!1;if(Object(d.startsWith)(n,"http")&&!/^https?:\/\/[^\/\s]/i.test(t))return!1;var o=ap(t);if(!cp(o))return!1;var i=lp(t);if(i&&!up(i))return!1;var r=pp(t);if(r&&!dp(r))return!1;var s=bp(t);if(s&&!mp(s))return!1}return!(Object(d.startsWith)(t,"#")&&!mp(t))}function kp(e){var t=e.url,n=e.opensInNewWindow,o=e.noFollow,i=e.sponsored,r=e.text,s={type:"editorskit/link",attributes:{url:t}},a=[];if(n){var c=gp(hp("%s (opens in a new tab)","block-options"),r);s.attributes.target="_blank",s.attributes["aria-label"]=c,a.push("noreferrer noopener")}return o&&a.push("nofollow"),i&&a.push("sponsored"),a.length>0&&(s.attributes.rel=a.join(" ")),s}var yp=wp.element.Component,Op=wp.dom,jp=Op.getOffsetParent,Ep=Op.getRectangleFromRange;function Cp(){var e=window.getSelection();if(0===e.rangeCount)return{};var t=Ep(e.getRangeAt(0)),n=t.top+t.height,o=t.left+t.width/2,i=jp(e.anchorNode);if(i){var r=i.getBoundingClientRect();n-=r.top,o-=r.left}return{top:n,left:o}}var Sp=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).state={style:Cp()},e}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props.children,t=this.state.style;return Object(l.createElement)("div",{className:"editor-format-toolbar__selection-position",style:t},e)}}]),t}(yp);function _p(e){return(_p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ap(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function xp(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var i=e.document;"number"!=typeof(n=i.documentElement[o])&&(n=i.body[o])}return n}function Dp(e){return xp(e)}function Pp(e){return xp(e,!0)}function Tp(e){var t=function(e){var t,n,o,i=e.ownerDocument,r=i.body,s=i&&i.documentElement;return n=(t=e.getBoundingClientRect()).left,o=t.top,{left:n-=s.clientLeft||r.clientLeft||0,top:o-=s.clientTop||r.clientTop||0}}(e),n=e.ownerDocument,o=n.defaultView||n.parentWindow;return t.left+=Dp(o),t.top+=Pp(o),t}var Np,Bp=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Ip=/^(top|right|bottom|left)$/,Lp="currentStyle",Mp="runtimeStyle",Kp="left",Rp="px";function zp(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Hp(e){return"border-box"===Np(e,"boxSizing")}"undefined"!=typeof window&&(Np=window.getComputedStyle?function(e,t,n){var o="",i=e.ownerDocument,r=n||i.defaultView.getComputedStyle(e,null);return r&&(o=r.getPropertyValue(t)||r[t]),o}:function(e,t){var n=e[Lp]&&e[Lp][t];if(Bp.test(n)&&!Ip.test(t)){var o=e.style,i=o[Kp],r=e[Mp][Kp];e[Mp][Kp]=e[Lp][Kp],o[Kp]="fontSize"===t?"1em":n||0,n=o.pixelLeft+Rp,o[Kp]=i,e[Mp][Kp]=r}return""===n?"auto":n});var Up=["margin","border","padding"],Vp=-1,Wp=2,qp=1;function Jp(e,t,n){var o,i,r,s=0;for(i=0;i<t.length;i++)if(o=t[i])for(r=0;r<n.length;r++){var a=void 0;a="border"===o?"".concat(o+n[r],"Width"):o+n[r],s+=parseFloat(Np(e,a))||0}return s}function Gp(e){return null!=e&&e==e.window}var $p={};function Yp(e,t,n){if(Gp(e))return"width"===t?$p.viewportWidth(e):$p.viewportHeight(e);if(9===e.nodeType)return"width"===t?$p.docWidth(e):$p.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.offsetWidth:e.offsetHeight,r=(Np(e),Hp(e)),s=0;(null==i||i<=0)&&(i=void 0,(null==(s=Np(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===n&&(n=r?qp:Vp);var a=void 0!==i||r,c=i||s;if(n===Vp)return a?c-Jp(e,["border","padding"],o):s;if(a){var l=n===Wp?-Jp(e,["border"],o):Jp(e,["margin"],o);return c+(n===qp?0:l)}return s+Jp(e,Up.slice(n),o)}zp(["Width","Height"],(function(e){$p["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],$p["viewport".concat(e)](n))},$p["viewport".concat(e)]=function(t){var n="client".concat(e),o=t.document,i=o.body,r=o.documentElement[n];return"CSS1Compat"===o.compatMode&&r||i&&i[n]||r}}));var Qp={position:"absolute",visibility:"hidden",display:"block"};function Zp(e){var t,n=arguments;return 0!==e.offsetWidth?t=Yp.apply(void 0,n):function(e,t,n){var o,i={},r=e.style;for(o in t)t.hasOwnProperty(o)&&(i[o]=r[o],r[o]=t[o]);for(o in n.call(e),t)t.hasOwnProperty(o)&&(r[o]=i[o])}(e,Qp,(function(){t=Yp.apply(void 0,n)})),t}function Xp(e,t,n){var o=n;if("object"!==_p(t))return void 0!==o?("number"==typeof o&&(o+="px"),void(e.style[t]=o)):Np(e,t);for(var i in t)t.hasOwnProperty(i)&&Xp(e,i,t[i])}zp(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);$p["outer".concat(t)]=function(t,n){return t&&Zp(t,e,n?0:qp)};var n="width"===e?["Left","Right"]:["Top","Bottom"];$p[e]=function(t,o){if(void 0===o)return t&&Zp(t,e,Vp);if(t){Np(t);return Hp(t)&&(o+=Jp(t,["padding","border"],n)),Xp(t,e,o)}}}));var ed=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fp(n,!0).forEach((function(t){Ap(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fp(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return Tp(e);!function(e,t){"static"===Xp(e,"position")&&(e.style.position="relative");var n,o,i=Tp(e),r={};for(o in t)t.hasOwnProperty(o)&&(n=parseFloat(Xp(e,o))||0,r[o]=n+t[o]-i[o]);Xp(e,r)}(e,t)},isWindow:Gp,each:zp,css:Xp,clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if(e.overflow)for(var o in e)e.hasOwnProperty(o)&&(t.overflow[o]=e.overflow[o]);return t},scrollLeft:function(e,t){if(Gp(e)){if(void 0===t)return Dp(e);window.scrollTo(t,Pp(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(Gp(e)){if(void 0===t)return Pp(e);window.scrollTo(Dp(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},$p);var td=function(e,t,n){n=n||{},9===t.nodeType&&(t=ed.getWindow(t));var o=n.allowHorizontalScroll,i=n.onlyScrollIfNeeded,r=n.alignWithTop,s=n.alignWithLeft,a=n.offsetTop||0,c=n.offsetLeft||0,l=n.offsetBottom||0,u=n.offsetRight||0;o=void 0===o||o;var p,d,b,m,f,h,g,v,k,w,y=ed.isWindow(t),O=ed.offset(e),j=ed.outerHeight(e),E=ed.outerWidth(e);y?(g=t,w=ed.height(g),k=ed.width(g),v={left:ed.scrollLeft(g),top:ed.scrollTop(g)},f={left:O.left-v.left-c,top:O.top-v.top-a},h={left:O.left+E-(v.left+k)+u,top:O.top+j-(v.top+w)+l},m=v):(p=ed.offset(t),d=t.clientHeight,b=t.clientWidth,m={left:t.scrollLeft,top:t.scrollTop},f={left:O.left-(p.left+(parseFloat(ed.css(t,"borderLeftWidth"))||0))-c,top:O.top-(p.top+(parseFloat(ed.css(t,"borderTopWidth"))||0))-a},h={left:O.left+E-(p.left+b+(parseFloat(ed.css(t,"borderRightWidth"))||0))+u,top:O.top+j-(p.top+d+(parseFloat(ed.css(t,"borderBottomWidth"))||0))+l}),f.top<0||h.top>0?!0===r?ed.scrollTop(t,m.top+f.top):!1===r?ed.scrollTop(t,m.top+h.top):f.top<0?ed.scrollTop(t,m.top+f.top):ed.scrollTop(t,m.top+h.top):i||((r=void 0===r||!!r)?ed.scrollTop(t,m.top+f.top):ed.scrollTop(t,m.top+h.top)),o&&(f.left<0||h.left>0?!0===s?ed.scrollLeft(t,m.left+f.left):!1===s?ed.scrollLeft(t,m.left+h.left):f.left<0?ed.scrollLeft(t,m.left+f.left):ed.scrollLeft(t,m.left+h.left):i||((s=void 0===s||!!s)?ed.scrollLeft(t,m.left+f.left):ed.scrollLeft(t,m.left+h.left)))},nd=wp.i18n,od=nd.__,id=nd.sprintf,rd=nd._n,sd=wp.element,ad=sd.Component,cd=sd.createRef,ld=wp.htmlEntities.decodeEntities,ud=wp.keycodes,pd=ud.UP,dd=ud.DOWN,bd=ud.ENTER,md=ud.TAB,fd=wp.components,hd=fd.Spinner,gd=fd.withSpokenMessages,vd=fd.Popover,kd=wp.compose.withInstanceId,wd=wp.apiFetch,yd=wp.url.addQueryArgs,Od=function(e){return e.stopPropagation()},jd=gd(kd(function(e){function t(e){var n,o=e.autocompleteRef;return yt()(this,t),(n=Ct()(this,_t()(t).apply(this,arguments))).onChange=n.onChange.bind(Ft()(n)),n.onKeyDown=n.onKeyDown.bind(Ft()(n)),n.autocompleteRef=o||cd(),n.inputRef=cd(),n.updateSuggestions=Object(d.throttle)(n.updateSuggestions.bind(Ft()(n)),200),n.suggestionNodes=[],n.state={posts:[],showSuggestions:!1,selectedSuggestion:null},n}return Dt()(t,e),jt()(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.state,n=t.showSuggestions,o=t.selectedSuggestion;n&&null!==o&&!this.scrollingIntoView&&(this.scrollingIntoView=!0,td(this.suggestionNodes[o],this.autocompleteRef.current,{onlyScrollIfNeeded:!0}),setTimeout((function(){e.scrollingIntoView=!1}),100))}},{key:"componentWillUnmount",value:function(){delete this.suggestionsRequest}},{key:"bindSuggestionNode",value:function(e){var t=this;return function(n){t.suggestionNodes[e]=n}}},{key:"updateSuggestions",value:function(e){var t=this;if(e.length<2||/^https?:/.test(e))this.setState({showSuggestions:!1,selectedSuggestion:null,loading:!1});else{this.setState({showSuggestions:!0,selectedSuggestion:null,loading:!0});var n=wd({path:yd("/wp/v2/search",{search:e,per_page:20,type:"post"})});n.then((function(e){t.suggestionsRequest===n&&(t.setState({posts:e,loading:!1}),e.length?t.props.debouncedSpeak(id(rd("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",e.length),e.length),"assertive"):t.props.debouncedSpeak(od("No results.","block-options"),"assertive"))})).catch((function(){t.suggestionsRequest===n&&t.setState({loading:!1})})),this.suggestionsRequest=n}}},{key:"onChange",value:function(e){var t=e.target.value;this.props.onChange(t),this.updateSuggestions(t)}},{key:"onKeyDown",value:function(e){var t=this.state,n=t.showSuggestions,o=t.selectedSuggestion,i=t.posts,r=t.loading;if(n&&i.length&&!r){var s=this.state.posts[this.state.selectedSuggestion];switch(e.keyCode){case pd:e.stopPropagation(),e.preventDefault();var a=o?o-1:i.length-1;this.setState({selectedSuggestion:a});break;case dd:e.stopPropagation(),e.preventDefault();var c=null===o||o===i.length-1?0:o+1;this.setState({selectedSuggestion:c});break;case md:null!==this.state.selectedSuggestion&&(this.selectLink(s),this.props.speak(od("Link selected.","block-options")));break;case bd:null!==this.state.selectedSuggestion&&(e.stopPropagation(),this.selectLink(s))}}else switch(e.keyCode){case pd:0!==e.target.selectionStart&&(e.stopPropagation(),e.preventDefault(),e.target.setSelectionRange(0,0));break;case dd:this.props.value.length!==e.target.selectionStart&&(e.stopPropagation(),e.preventDefault(),e.target.setSelectionRange(this.props.value.length,this.props.value.length))}}},{key:"selectLink",value:function(e){this.props.onChange(e.url,e),this.setState({selectedSuggestion:null,showSuggestions:!1})}},{key:"handleOnClick",value:function(e){this.selectLink(e),this.inputRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,o=void 0===n?"":n,i=t.autoFocus,r=void 0===i||i,s=t.instanceId,a=t.className,c=this.state,u=c.showSuggestions,d=c.posts,b=c.selectedSuggestion,m=c.loading;return Object(l.createElement)("div",{className:p()("editor-url-input block-editor-url-input",a)},Object(l.createElement)("input",{autoFocus:r,type:"text","aria-label":od("URL","block-options"),required:!0,value:o,onChange:this.onChange,onInput:Od,placeholder:od("Paste URL or type to search","block-options"),onKeyDown:this.onKeyDown,role:"combobox","aria-expanded":u,"aria-autocomplete":"list","aria-owns":"editor-url-input-suggestions-".concat(s),"aria-activedescendant":null!==b?"editor-url-input-suggestion-".concat(s,"-").concat(b):void 0,ref:this.inputRef}),m&&Object(l.createElement)(hd,null),u&&!!d.length&&Object(l.createElement)(vd,{position:"bottom",noArrow:!0,focusOnMount:!1},Object(l.createElement)("div",{className:p()("editor-url-input__suggestions","block-editor-url-input__suggestions","".concat(a,"__suggestions")),id:"editor-url-input-suggestions-".concat(s),ref:this.autocompleteRef,role:"listbox"},d.map((function(t,n){return Object(l.createElement)("button",{key:t.id,role:"option",tabIndex:"-1",id:"editor-url-input-suggestion-".concat(s,"-").concat(n),ref:e.bindSuggestionNode(n),className:p()("editor-url-input__suggestion block-editor-url-input__suggestion",{"is-selected":n===b}),onClick:function(){return e.handleOnClick(t)},"aria-selected":n===b},ld(t.title)||od("(no title)","block-options"))})))))}}]),t}(ad))),Ed=wp.i18n.__,Cd=wp.components.IconButton;function Sd(e){var t=e.autocompleteRef,n=e.className,o=e.onChangeInputValue,i=e.value,r=D()(e,["autocompleteRef","className","onChangeInputValue","value"]);return Object(l.createElement)("form",c()({className:p()("block-editor-url-popover__link-editor",n)},r),Object(l.createElement)(jd,{value:i,onChange:o,autocompleteRef:t}),Object(l.createElement)(Cd,{icon:"editor-break",label:Ed("Apply","block-options"),type:"submit"}))}var _d=wp.i18n.__,Ad=wp.components,Fd=Ad.ExternalLink,xd=Ad.IconButton,Dd=wp.url,Pd=Dd.safeDecodeURI,Td=Dd.filterURLForDisplay;function Nd(e){var t=e.url,n=e.urlLabel,o=e.className,i=p()(o,"block-editor-url-popover__link-viewer-url");return t?Object(l.createElement)(Fd,{className:i,href:t},n||Td(Pd(t))):Object(l.createElement)("span",{className:i})}function Bd(e){var t=e.className,n=e.linkClassName,o=e.onEditLinkClick,i=e.url,r=e.urlLabel,s=D()(e,["className","linkClassName","onEditLinkClick","url","urlLabel"]);return Object(l.createElement)("div",c()({className:p()("block-editor-url-popover__link-viewer",t)},s),Object(l.createElement)(Nd,{url:i,urlLabel:r,className:n}),o&&Object(l.createElement)(xd,{icon:"edit",label:_d("Edit","block-options"),onClick:o}))}var Id=wp.i18n.__,Ld=wp.element,Md=Ld.Component,Kd=Ld.createRef,Rd=Ld.useMemo,zd=Ld.Fragment,Hd=wp.components,Ud=Hd.ToggleControl,Vd=Hd.withSpokenMessages,Wd=wp.keycodes,qd=Wd.LEFT,Jd=Wd.RIGHT,Gd=Wd.UP,$d=Wd.DOWN,Yd=Wd.BACKSPACE,Qd=Wd.ENTER,Zd=Wd.ESCAPE,Xd=wp.dom.getRectangleFromRange,eb=wp.url.prependHTTP,tb=wp.richText,nb=tb.create,ob=tb.insert,ib=tb.isCollapsed,rb=tb.applyFormat,sb=tb.getTextContent,ab=tb.slice,cb=wp.blockEditor.URLPopover,lb=function(e){return e.stopPropagation()};function ub(e,t){return e.addingLink||t.editLink}var pb=function(e){var t=e.isActive,n=e.addingLink,o=e.value,i=D()(e,["isActive","addingLink","value"]),r=Rd((function(){var e=window.getSelection(),t=e.rangeCount>0?e.getRangeAt(0):null;if(t){if(n)return Xd(t);var o=t.startContainer;for(o=o.nextElementSibling||o;o.nodeType!==window.Node.ELEMENT_NODE;)o=o.parentNode;var i=o.closest("a");return i?i.getBoundingClientRect():void 0}}),[t,n,o.start,o.end]);return r?Object(l.createElement)(cb,c()({anchorRect:r},i)):null},db=Vd(function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).editLink=e.editLink.bind(Ft()(e)),e.submitLink=e.submitLink.bind(Ft()(e)),e.onKeyDown=e.onKeyDown.bind(Ft()(e)),e.onChangeInputValue=e.onChangeInputValue.bind(Ft()(e)),e.setLinkTarget=e.setLinkTarget.bind(Ft()(e)),e.setNoFollow=e.setNoFollow.bind(Ft()(e)),e.setSponsored=e.setSponsored.bind(Ft()(e)),e.onFocusOutside=e.onFocusOutside.bind(Ft()(e)),e.resetState=e.resetState.bind(Ft()(e)),e.autocompleteRef=Kd(),e.state={opensInNewWindow:!1,noFollow:!1,sponsored:!1,inputValue:""},e}return Dt()(t,e),jt()(t,[{key:"onKeyDown",value:function(e){[qd,$d,Jd,Gd,Yd,Qd].indexOf(e.keyCode)>-1&&e.stopPropagation(),[Zd].indexOf(e.keyCode)>-1&&this.resetState()}},{key:"onChangeInputValue",value:function(e){this.setState({inputValue:e})}},{key:"setLinkTarget",value:function(e){var t=this.props,n=t.activeAttributes.url,o=void 0===n?"":n,i=t.value,r=t.onChange;if(this.setState({opensInNewWindow:e}),!ub(this.props,this.state)){var s=sb(ab(i));r(rb(i,kp({url:o,opensInNewWindow:e,noFollow:this.state.noFollow,sponsored:this.state.sponsored,text:s})))}}},{key:"setNoFollow",value:function(e){var t=this.props,n=t.activeAttributes.url,o=void 0===n?"":n,i=t.value,r=t.onChange;if(this.setState({noFollow:e}),!ub(this.props,this.state)){var s=sb(ab(i));r(rb(i,kp({url:o,opensInNewWindow:this.state.opensInNewWindow,noFollow:e,sponsored:this.state.sponsored,text:s})))}}},{key:"setSponsored",value:function(e){var t=this.props,n=t.activeAttributes.url,o=void 0===n?"":n,i=t.value,r=t.onChange;if(this.setState({sponsored:e}),!ub(this.props,this.state)){var s=sb(ab(i));r(rb(i,kp({url:o,opensInNewWindow:this.state.opensInNewWindow,noFollow:this.state.noFollow,sponsored:e,text:s})))}}},{key:"editLink",value:function(e){this.setState({editLink:!0}),e.preventDefault()}},{key:"submitLink",value:function(e){var t=this.props,n=t.isActive,o=t.value,i=t.onChange,r=t.speak,s=this.state,a=s.inputValue,c=s.opensInNewWindow,l=eb(a),u=kp({url:l,opensInNewWindow:c,text:sb(ab(o))});if(e.preventDefault(),ib(o)&&!n){var p=rb(nb({text:l}),u,0,l.length);i(ob(o,p))}else i(rb(o,u));this.resetState(),vp(l)?r(Id(n?"Link edited.":"Link inserted.","block-options"),"assertive"):r(Id("Warning: the link has been inserted but may have errors. Please test it.","block-options"),"assertive")}},{key:"onFocusOutside",value:function(){var e=this.autocompleteRef.current;e&&e.contains(event.target)||this.resetState()}},{key:"resetState",value:function(){this.props.stopAddingLink(),this.setState({editLink:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isActive,o=t.activeAttributes,i=o.url,r=o.target,s=o.rel,a=t.addingLink,c=t.value;if(!n&&!a)return null;var u=this.state,p=u.inputValue,d=u.opensInNewWindow,b=u.noFollow,m=u.sponsored,f=ub(this.props,this.state);if(d||"_blank"!==r||this.setState({opensInNewWindow:!0}),"string"==typeof s){var h=s.split(" ").includes("nofollow"),g=s.split(" ").includes("sponsored");h!==b&&this.setState({noFollow:h}),g!==m&&this.setState({sponsored:g})}return Object(l.createElement)(Sp,{key:"".concat(c.start).concat(c.end)},Object(l.createElement)(pb,{value:c,isActive:n,addingLink:a,onFocusOutside:this.onFocusOutside,onClose:function(){p||e.resetState()},focusOnMount:!!f&&"firstElement",className:"editorskit-url-popover",renderSettings:function(){return Object(l.createElement)(zd,null,Object(l.createElement)(Ud,{label:Id("Open in New Tab","block-options"),checked:d,onChange:e.setLinkTarget}),Object(l.createElement)(Ud,{label:Id("No Follow","block-options"),checked:b,onChange:e.setNoFollow}),Object(l.createElement)(Ud,{label:Id("Sponsored","block-options"),checked:m,onChange:e.setSponsored}))}},f?Object(l.createElement)(Sd,{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",value:p,onChangeInputValue:this.onChangeInputValue,onKeyDown:this.onKeyDown,onKeyPress:lb,onSubmit:this.submitLink,autocompleteRef:this.autocompleteRef}):Object(l.createElement)(Bd,{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",onKeyPress:lb,url:i,onEditLinkClick:this.editLink,linkClassName:i&&vp(eb(i))?void 0:"has-invalid-link"})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.activeAttributes,o=n.url,i=n.target,r=n.rel,s="_blank"===i;if(!ub(e,t)){if(o!==t.inputValue)return{inputValue:o};if(s!==t.opensInNewWindow)return{opensInNewWindow:s};if("string"==typeof r){var a=r.split(" ").includes("nofollow"),c=r.split(" ").includes("sponsored");if(a!==t.noFollow)return{noFollow:a};if(c!==t.sponsored)return{sponsored:c}}}return null}}]),t}(Md));function bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function mb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bb(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bb(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fb=wp.i18n.__,hb=wp.element,gb=hb.Component,vb=hb.Fragment,kb=wp.data,wb=kb.select,yb=kb.withSelect,Ob=kb.dispatch,jb=wp.blockEditor,Eb=jb.BlockControls,Cb=jb.RichTextToolbarButton,Sb=jb.RichTextShortcut,_b=wp.richText,Ab=_b.getTextContent,Fb=_b.applyFormat,xb=_b.removeFormat,Db=_b.slice,Pb=_b.getActiveFormat,Tb=wp.url.isURL,Nb=wp.components,Bb=Nb.Toolbar,Ib=Nb.withSpokenMessages,Lb=wp.compose,Mb=Lb.compose,Kb=Lb.ifCondition,Rb=fb("Add Link","block-options"),zb=/^(mailto:)?[a-z0-9._%+-]+@[a-z0-9][a-z0-9.-]*\.[a-z]{2,63}$/i,Hb=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).isEmail=e.isEmail.bind(Ft()(e)),e.addLink=e.addLink.bind(Ft()(e)),e.stopAddingLink=e.stopAddingLink.bind(Ft()(e)),e.onRemoveFormat=e.onRemoveFormat.bind(Ft()(e)),e.state={addingLink:!1},e}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){var e=wb("core/rich-text").getFormatType("core/link");e&&(e.edit=null,Ob("core/rich-text").addFormatTypes(e))}},{key:"isEmail",value:function(e){return zb.test(e)}},{key:"addLink",value:function(){var e=this.props,t=e.value,n=e.onChange,o=Ab(Db(t));o&&Tb(o)?n(Fb(t,{type:"editorskit/link",attributes:{url:o}})):o&&this.isEmail(o)?n(Fb(t,{type:"editorskit/link",attributes:{url:"mailto:".concat(o)}})):this.setState({addingLink:!0})}},{key:"stopAddingLink",value:function(){this.setState({addingLink:!1})}},{key:"onRemoveFormat",value:function(){var e=this.props,t=e.value,n=e.onChange,o=e.speak,i=t;Object(d.map)(["core/link","editorskit/link"],(function(e){i=xb(i,e)})),n(mb({},i)),o(fb("Link removed.","block-options"),"assertive")}},{key:"render",value:function(){var e=this.props,t=e.activeAttributes,n=e.onChange,o=this.props,i=o.isActive,r=o.value,s=Pb(r,"core/link");if(s){s.type="editorskit/link",void 0!==s.unregisteredAttributes&&void 0!==s.unregisteredAttributes.rel&&(s.attributes=Object.assign(s.attributes,{rel:s.unregisteredAttributes.rel}));var a=r;a=Fb(a,s),n(mb({},a=xb(a,"core/link"))),r=a,i=!0}return Object(l.createElement)(vb,null,Object(l.createElement)(Eb,null,Object(l.createElement)(Bb,{className:"editorskit-components-toolbar"},Object(l.createElement)(Sb,{type:"primary",character:"k",onUse:this.addLink}),Object(l.createElement)(Sb,{type:"primaryShift",character:"k",onUse:this.onRemoveFormat}),i&&Object(l.createElement)(Cb,{name:"link",icon:"editor-unlink",title:fb("Unlink","block-options"),onClick:this.onRemoveFormat,isActive:i,shortcutType:"primaryShift",shortcutCharacter:"k"}),!i&&Object(l.createElement)(Cb,{name:"link",icon:"admin-links",title:Rb,onClick:this.addLink,isActive:i,shortcutType:"primary",shortcutCharacter:"k"}),Object(l.createElement)(db,{addingLink:this.state.addingLink,stopAddingLink:this.stopAddingLink,isActive:i,activeAttributes:t,value:r,onChange:n}))))}}]),t}(gb),Ub=Mb(yb((function(){return{isDisabled:wb("core/edit-post").isFeatureActive("disableEditorsKitLinkFormats")}})),Kb((function(e){return!e.isDisabled})),Ib)(Hb),Vb=wp.i18n.__,Wb=wp.richText,qb=Wb.applyFormat,Jb=Wb.isCollapsed,Gb=wp.htmlEntities.decodeEntities,$b=wp.url.isURL,Yb={name:"editorskit/link",title:Vb("Link","block-options"),tagName:"a",className:"ek-link",attributes:{url:"href",target:"target",rel:"rel"},__unstablePasteRule:function(e,t){var n=t.html,o=t.plainText;if(Jb(e))return e;var i=(n||o).replace(/<[^>]+>/g,"").trim();return $b(i)?(window.console.log("Created link:\n\n",i),qb(e,{type:"editorskit/link",attributes:{url:Gb(i)}})):e},edit:Ub},Qb=(n(163),wp.i18n.__),Zb=wp.element,Xb=Zb.Component,em=Zb.Fragment,tm=wp.compose,nm=tm.compose,om=tm.ifCondition,im=wp.data,rm=im.select,sm=im.withSelect,am=im.withDispatch,cm=wp.blockEditor,lm=cm.BlockControls,um=cm.AlignmentToolbar,pm=wp.components.Toolbar,dm=wp.blocks.hasBlockSupport,bm=["core/image","core/gallery","core/video","core/audio","core-embed","core-embed/youtube","core-embed/twitter","core-embed/facebook","core-embed/instagram","core-embed/wordpress","core-embed/soundcloud","core-embed/spotify","core-embed/flickr","core-embed/vimeo","core-embed/animoto","core-embed/cloudup","core-embed/collegehumor","core-embed/crowdsignal","core-embed/dailymotion","core-embed/hulu","core-embed/imgur","core-embed/issuu","core-embed/kickstarter","core-embed/meetup-com","core-embed/mixcloud","core-embed/reddit","core-embed/reverbnation","core-embed/screencast","core-embed/scribd","core-embed/slideshare","core-embed/smugmug","core-embed/speaker-deck","core-embed/ted","core-embed/tumblr","core-embed/videopress","core-embed/wordpress-tv","core-embed/amazon-kindle","core/table"],mm=[{icon:"editor-alignleft",title:Qb("Align caption left","block-options"),align:"left"},{icon:"editor-aligncenter",title:Qb("Align caption center","block-options"),align:"center"},{icon:"editor-alignright",title:Qb("Align caption right","block-options"),align:"right"}],fm=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.blockId,n=e.blockName,o=e.blockClassName,i=e.blockCaptionAlignment,r=e.updateBlockAttributes,s=function(e){var t="";return o&&(t=o.replace("caption-align-default","").replace("caption-align-center","").replace("caption-align-right","").replace("caption-align-left","").trim()),e&&(t="caption-align-".concat(e," ")+t),(t=t.replace(/\s+/g," ").trim())||(t="caption-align-default"),t};return bm.includes(n)||dm(n,"editorsKitCaptionAlignment")?Object(l.createElement)(em,null,Object(l.createElement)(lm,null,Object(l.createElement)(pm,{className:"editorskit-components-alignment-toolbar"},Object(l.createElement)(um,{value:i,onChange:function(e){r(t,{captionAlignment:e,className:s(e)})},alignmentControls:mm})))):null}}]),t}(Xb),hm=nm(sm((function(){var e=rm("core/block-editor").getSelectedBlock();return e?{blockId:e.clientId,blockName:e.name,blockClassName:Object(d.get)(e,"attributes.className"),blockCaptionAlignment:Object(d.get)(e,"attributes.captionAlignment"),isDisabled:rm("core/edit-post").isFeatureActive("disableEditorsKitCaptionAlignmentFormats")}:{}})),am((function(e){return{updateBlockAttributes:e("core/block-editor").updateBlockAttributes}})),om((function(e){return!e.isDisabled})))(fm),gm=wp.i18n.__,vm=wp.element.Fragment,km={name:"editorskit/alignment",title:gm("Change Caption Alignment","block-options"),tagName:"figcaption",className:null,attributes:{style:"style"},edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(l.createElement)(vm,null,Object(l.createElement)(hm,{name:"editorskit/alignment",isActive:t,value:n,onChange:o,activeAttributes:i}))}},wm={};wm.spacebar=Object(l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Object(l.createElement)("path",{d:"M18 9v4H6V9H4v6h16V9z"}));var ym=wm;function Om(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var jm=wp.i18n.__,Em=wp.element,Cm=Em.Fragment,Sm=Em.Component,_m=wp.compose,Am=_m.compose,Fm=_m.ifCondition,xm=wp.data,Dm=xm.select,Pm=xm.withSelect,Tm=wp.richText,Nm=Tm.insert,Bm=Tm.getTextContent,Im=wp.blockEditor,Lm=Im.RichTextShortcut,Mm=Im.RichTextToolbarButton,Km=wp.components.withSpokenMessages,Rm=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.onChange,o=function(){var e=Bm(t).slice(0,t.start).lastIndexOf(""),o=t.replacements[e],i=[,];o&&(i=[o]);var r=Nm(t,{formats:[,],replacements:i,text:""},t.start,t.end);n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Om(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Om(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{needsSelectionUpdate:!0}))};return Object(l.createElement)(Cm,null,Object(l.createElement)(Lm,{type:"primaryShift",character:"SPACE",onUse:o}),Object(l.createElement)(Mm,{icon:ym.spacebar,title:jm("Nonbreaking space","block-options"),onClick:o}))}}]),t}(Sm),zm=Am(Pm((function(){return{isDisabled:Dm("core/edit-post").isFeatureActive("disableEditorsKitNonbreakingSpaceFormats")}})),Fm((function(e){return!e.isDisabled})),Km)(Rm),Hm=wp.i18n.__,Um=wp.element.Fragment,Vm={name:"editorskit/nbsp",title:Hm("Nonbreaking Space","block-options"),tagName:"span",className:"nbsp",edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(l.createElement)(Um,null,Object(l.createElement)(zm,{name:"editorskit/nbsp",isActive:t,value:n,onChange:o,activeAttributes:i}))}},Wm=wp.i18n.__,qm=wp.element,Jm=qm.Component,Gm=qm.Fragment,$m=wp.compose,Ym=$m.compose,Qm=$m.ifCondition,Zm=wp.data.withSelect,Xm=wp.blockEditor.RichTextToolbarButton,ef=wp.richText,tf=ef.applyFormat,nf=ef.removeFormat,of=ef.getActiveFormat,rf=wp.components,sf=rf.Modal,af=rf.Button,cf=rf.TextControl,lf=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).toggle=e.toggle.bind(Ft()(e)),e.state={isOpen:!1,title:"",lang:""},e}return Dt()(t,e),jt()(t,[{key:"toggle",value:function(){this.setState((function(e){return{isOpen:!e.isOpen}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,o=t.lang,i=this.props,r=i.isActive,s=i.value,a=i.onChange,c=of(s,"editorskit/abbreviation");return Object(l.createElement)(Gm,null,Object(l.createElement)(Xm,{icon:"editor-code",title:Wm("Abbreviation","block-options"),onClick:this.toggle,isActive:r}),this.state.isOpen&&Object(l.createElement)(sf,{title:Wm("Insert Abbreviation","block-options"),onRequestClose:this.toggle},Object(l.createElement)(cf,{label:Wm("Title","block-options"),value:c&&!n?c.attributes.title:n,onChange:function(t){return e.setState({title:t})}}),Object(l.createElement)(cf,{label:Wm("Language (optional)","block-options"),value:c&&!o?c.attributes.lang:o,help:Wm("Example: fr, en, de, etc. Use it only if the abbreviations language is different from page main language.","block-options"),onChange:function(t){return e.setState({lang:t})}}),Object(l.createElement)(af,{isPrimary:!0,isLarge:!0,onClick:function(){if(n){var t={title:n};o&&(t.lang=o),a(tf(s,{type:"editorskit/abbreviation",attributes:t}))}else a(nf(s,"editorskit/abbreviation"));e.toggle()}},Wm("Apply","block-options"))))}}]),t}(Jm),uf=Ym(Zm((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitAbbreviationFormats")}})),Qm((function(e){return!e.isDisabled})))(lf),pf=wp.i18n.__,df=(wp.element.Fragment,{name:"editorskit/abbreviation",title:pf("Abbreviation","block-options"),tagName:"abbr",className:null,attributes:{title:"title",lang:"lang"},edit:uf}),bf=wp.i18n.__,mf=wp.element.Fragment,ff=wp.richText.toggleFormat,hf=wp.blockEditor,gf=hf.RichTextToolbarButton,vf=hf.RichTextShortcut,kf=wp.data.select,wf={name:"editorskit/underline",title:bf("Underline","block-options"),tagName:"span",className:"ek-underline",attributes:{style:"style"},edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=kf("core/edit-post").isFeatureActive("disableEditorsKitUnderlineFormats"),r=kf("core/rich-text").getFormatTypes().filter((function(e){return"wpcom/underline"===e.name})),s=function(){o(ff(n,{type:"editorskit/underline",attributes:{style:"text-decoration: underline;"}}))};return Object(l.createElement)(mf,null,Object(l.createElement)(vf,{type:"primary",character:"u",onUse:s}),!i&&0===r.length&&Object(l.createElement)(gf,{icon:"editor-underline",title:bf("Underline","block-options"),onClick:s,isActive:t,shortcutType:"primary",shortcutCharacter:"u"}))}},yf=wp.i18n.__,Of=wp.element.Component,jf=wp.compose,Ef=jf.compose,Cf=jf.ifCondition,Sf=wp.data,_f=Sf.select,Af=Sf.withSelect,Ff=Sf.withDispatch,xf=wp.blockEditor.RichTextToolbarButton,Df=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.selectedBlock,n=e.isBlockJustified,o=e.isDisabled,i=e.updateBlockAttributes,r=t.clientId,s=t.attributes.editorskit;if(o)return null;return Object(l.createElement)(xf,{icon:"editor-indent",title:yf("Indent Increase","block-options"),onClick:function(){var e=0;void 0!==s&&void 0!==s.indent&&(e=s.indent),delete s.indent;var t=Object.assign({indent:e+20},s);i(r,{editorskit:t})},isActive:n})}}]),t}(Of),Pf=Ef(Af((function(){var e=_f("core/block-editor").getSelectedBlock();return e?{selectedBlock:e,isDisabled:_f("core/edit-post").isFeatureActive("disableEditorsKitIndentFormats")}:{}})),Ff((function(e){return{updateBlockAttributes:e("core/block-editor").updateBlockAttributes}})),Cf((function(e){return!e.isDisabled})))(Df),Tf=wp.i18n.__,Nf=wp.element.Fragment,Bf={name:"editorskit/indentincrease",title:Tf("Indent Increase","block-options"),tagName:"p",className:"ek-indent-increase",attributes:{style:"style"},edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(l.createElement)(Nf,null,Object(l.createElement)(Pf,{name:"editorskit/indentincrease",isActive:t,value:n,onChange:o,activeAttributes:i}))}},If=wp.i18n.__,Lf=wp.element.Component,Mf=wp.compose,Kf=Mf.compose,Rf=Mf.ifCondition,zf=wp.data,Hf=zf.select,Uf=zf.withSelect,Vf=zf.withDispatch,Wf=wp.blockEditor.RichTextToolbarButton,qf=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.selectedBlock,n=e.isBlockJustified,o=e.isDisabled,i=e.updateBlockAttributes,r=t.clientId,s=t.attributes.editorskit;if(o)return null;return Object(l.createElement)(Wf,{icon:"editor-outdent",title:If("Indent Decrease","block-options"),onClick:function(){var e=0;void 0!==s&&void 0!==s.indent&&(e=s.indent),delete s.indent;var t=Object.assign({indent:e-20},s);i(r,{editorskit:t})},isActive:n})}}]),t}(Lf),Jf=Kf(Uf((function(){var e=Hf("core/block-editor").getSelectedBlock();return e?{selectedBlock:e,isDisabled:Hf("core/edit-post").isFeatureActive("disableEditorsKitIndentFormats")}:{}})),Vf((function(e){return{updateBlockAttributes:e("core/block-editor").updateBlockAttributes}})),Rf((function(e){if(e.isDisabled)return!1;if(void 0!==e.selectedBlock){var t=e.selectedBlock.attributes.editorskit;if(void 0!==t.indent&&t.indent)return!0}return!1})))(qf),Gf=wp.i18n.__,$f=wp.element.Fragment,Yf={name:"editorskit/indentdecrease",title:Gf("Indent Decrease","block-options"),tagName:"p",className:"ek-indent-decrease",attributes:{style:"style"},edit:function(e){var t=e.isActive,n=e.value,o=e.onChange,i=e.activeAttributes;return Object(l.createElement)($f,null,Object(l.createElement)(Jf,{name:"editorskit/indentdecrease",isActive:t,value:n,onChange:o,activeAttributes:i}))}},Qf=wp.richText.registerFormatType,Zf=(0,wp.data.select)("core/edit-post").isFeatureActive("disableEditorsKitLinkFormats");wp.domReady((function(){[cc,Ic,bl,Nl,ou,Su,Hu,op,km,Vm,df,wf,Bf,Yf,Zf?[]:Yb].forEach((function(e){var t=e.name,n=D()(e,["name"]);t&&Qf(t,n)}))}));var Xf=wp.i18n.__,eh=wp.data.withSelect,th=wp.compose.compose,nh=wp.element,oh=nh.Component,ih=nh.Fragment,rh=wp.blockEditor.BlockControls,sh=wp.components,ah=sh.Toolbar,ch=sh.withSpokenMessages,lh=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.attributes,n=e.setAttributes,o=t.mediaPosition,i=t.className;!["top","bottom"].includes(o)&&i&&n({className:this.removeTopBottom()})}},{key:"removeTopBottom",value:function(){var e=this.props.attributes.className,t="";return e&&(t=(t=e.replace("has-media-on-the-bottom","").replace("has-media-on-the-top","").trim()).replace(/\s+/g," ").trim()),t}},{key:"render",value:function(){var e=this,t=this.props,n=t.attributes,o=t.setAttributes,i=t.isDisabled,r=n.mediaPosition;if(i)return null;var s=[{className:"align-pull-top",icon:"align-pull-left",title:Xf("Show media on top","block-options"),isActive:"top"===r,onClick:function(){o({mediaPosition:"top",className:e.removeTopBottom()+" has-media-on-the-top",align:""})}},{className:"align-pull-bottom",icon:"align-pull-right",title:Xf("Show media on bottom","block-options"),isActive:"bottom"===r,onClick:function(){o({mediaPosition:"bottom",className:e.removeTopBottom()+" has-media-on-the-bottom",align:""})}}];return Object(l.createElement)(ih,null,Object(l.createElement)(rh,null,Object(l.createElement)(ah,{className:"editorskit-media-text-card-controls",controls:s})))}}]),t}(oh),uh=th(eh((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitMediaTextLayoutOptions")}})),ch)(lh);function ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var dh=wp.hooks.addFilter,bh=wp.element.Fragment,mh=wp.compose.createHigherOrderComponent,fh=["core/media-text"];dh("editor.BlockEdit","editorskit/media-text-link",mh((function(e){return function(t){return Object(l.createElement)(bh,null,t.isSelected&&fh.includes(t.name)&&Object(l.createElement)(uh,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ph(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ph(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),Object(l.createElement)(e,t))}}),"withControls"));var hh=wp.i18n.__,gh=wp.element,vh=gh.Component,kh=gh.Fragment,wh=gh.useCallback,yh=gh.useState,Oh=gh.useRef,jh=wp.data.withSelect,Eh=wp.compose,Ch=Eh.compose,Sh=Eh.ifCondition,_h=wp.keycodes,Ah=_h.LEFT,Fh=_h.RIGHT,xh=_h.UP,Dh=_h.DOWN,Ph=_h.BACKSPACE,Th=_h.ENTER,Nh=wp.blockEditor.URLPopover,Bh=wp.components,Ih=Bh.ToggleControl,Lh=Bh.IconButton,Mh=Bh.Path,Kh=Bh.SVG,Rh=Bh.NavigableMenu,zh=Bh.MenuItem,Hh=Bh.withSpokenMessages,Uh=function(e){e.stopPropagation()},Vh=function(e){[Ah,Dh,Fh,xh,Ph,Th].indexOf(e.keyCode)>-1&&e.stopPropagation()},Wh=function(e){var t=e.advancedOptions,n=e.linkDestination,o=e.mediaLinks,i=e.onChangeUrl,r=e.url,s=yh(!1),a=Bo()(s,2),c=a[0],u=a[1],p=wh((function(){u(!0)})),b=yh(!1),m=Bo()(b,2),f=m[0],h=m[1],g=yh(null),v=Bo()(g,2),k=v[0],w=v[1],y=wh((function(){"media"!==n&&"attachment"!==n||w(""),h(!0)})),O=wh((function(){h(!1)})),j=wh((function(){w(null),O(),u(!1)})),E=Oh(null),C=wh((function(){return function(e){var t=E.current;t&&t.contains(e.target)||(u(!1),w(null),O())}})),S=wh((function(){return function(e){k&&i(k),O(),w(null),e.preventDefault()}})),_=wh((function(){i("")})),A=null!==k?k:r,F=(find(o,["linkDestination",n])||{}).title;return Object(l.createElement)(kh,null,Object(l.createElement)(Lh,{icon:"admin-links",className:"components-toolbar__control",label:hh(r?"Edit Media Link":"Media Link","block-options"),"aria-expanded":c,onClick:p}),c&&Object(l.createElement)(Nh,{onClickOutside:C(),onClose:j,renderSettings:function(){return t},additionalControls:!A&&Object(l.createElement)(Rh,null,Object(d.map)(o,(function(e){return Object(l.createElement)(zh,{key:e.linkDestination,icon:e.icon,onClick:function(){w(null),i(e.url),O()}},e.title)})))},(!r||f)&&Object(l.createElement)(Nh.LinkEditor,{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",value:A,onChangeInputValue:w,onKeyDown:Vh,onKeyPress:Uh,onSubmit:S(),autocompleteRef:E}),r&&!f&&Object(l.createElement)(kh,null,Object(l.createElement)(Nh.LinkViewer,{className:"editor-format-toolbar__link-container-content block-editor-format-toolbar__link-container-content",onKeyPress:Uh,url:r,onEditLinkClick:y,urlLabel:F}),Object(l.createElement)(Lh,{icon:"no",label:hh("Remove Link","block-options"),onClick:_}))))},qh=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).onSetNewTab=e.onSetNewTab.bind(Ft()(e)),e.getLinkDestinations=e.getLinkDestinations.bind(Ft()(e)),e.onSetHref=e.onSetHref.bind(Ft()(e)),e.state={isVisible:!1},e}return Dt()(t,e),jt()(t,[{key:"onSetHref",value:function(e){var t,n=this.props.attributes.linkDestination,o=this.getLinkDestinations();n===(t=e?(find(o,(function(t){return t.url===e}))||{linkDestination:"custom"}).linkDestination:"none")?this.props.setAttributes({href:e}):this.props.setAttributes({linkDestination:t,href:e})}},{key:"onSetNewTab",value:function(e){var t=e?"_blank":void 0;this.props.setAttributes({linkTarget:t})}},{key:"getLinkDestinations",value:function(){var e=this.props.image;return[{linkDestination:"media",title:hh("Media File","block-options"),url:e.source_url,icon:Object(l.createElement)(Kh,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(l.createElement)(Mh,{d:"M0,0h24v24H0V0z",fill:"none"}),Object(l.createElement)(Mh,{d:"m19 5v14h-14v-14h14m0-2h-14c-1.1 0-2 0.9-2 2v14c0 1.1 0.9 2 2 2h14c1.1 0 2-0.9 2-2v-14c0-1.1-0.9-2-2-2z"}),Object(l.createElement)(Mh,{d:"m14.14 11.86l-3 3.87-2.14-2.59-3 3.86h12l-3.86-5.14z"}))},{linkDestination:"attachment",title:hh("Attachment Page","block-options"),url:e.link,icon:Object(l.createElement)(Kh,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(l.createElement)(Mh,{d:"M0 0h24v24H0V0z",fill:"none"}),Object(l.createElement)(Mh,{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z"}))}]}},{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.setAttributes,o=t.href,i=t.linkDestination,r=t.linkTarget,s=t.linkNoFollow,a=t.linkSponsored,c=t.linkFullBlock;return Object(l.createElement)(kh,null,Object(l.createElement)(Wh,{url:o||"",onChangeUrl:this.onSetHref,mediaLinks:this.getLinkDestinations(),linkDestination:i,advancedOptions:Object(l.createElement)(kh,null,Object(l.createElement)(Ih,{label:hh("Open in New Tab","block-options"),onChange:this.onSetNewTab,checked:"_blank"===r}),Object(l.createElement)(Ih,{label:hh("No follow","block-options"),onChange:function(){n({linkNoFollow:!s})},checked:!!s}),Object(l.createElement)(Ih,{label:hh("Sponsored","block-options"),onChange:function(){n({linkSponsored:!a})},checked:!!a}),Object(l.createElement)(Ih,{label:hh("Apply link to whole block","block-options"),onChange:function(){n({linkFullBlock:!c})},checked:!!c}))}))}}]),t}(vh),Jh=Ch(jh((function(e,t){var n=e("core").getMedia,o=t.attributes.mediaId;return{image:o?n(o):null,isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitMediaTextLinkOptions")}})),Sh((function(e){return!e.isDisabled&&e.image&&"image"===e.attributes.mediaType&&void 0!==Nh.LinkEditor})),Hh)(qh),Gh=wp.element,$h=Gh.Component,Yh=Gh.Fragment,Qh=wp.blockEditor.BlockControls,Zh=wp.components.Toolbar,Xh=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){return Object(l.createElement)(Yh,null,Object(l.createElement)(Qh,null,Object(l.createElement)(Zh,null,Object(l.createElement)(Jh,this.props))))}}]),t}($h);function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var tg=wp.hooks.addFilter,ng=wp.element.Fragment,og=wp.compose.createHigherOrderComponent,ig=["core/media-text"];var rg=og((function(e){return function(t){return Object(l.createElement)(ng,null,Object(l.createElement)(e,t),t.isSelected&&ig.includes(t.name)&&Object(l.createElement)(Xh,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eg(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)))}}),"withControls");tg("blocks.registerBlockType","editorskit/media-text-link/attributes",(function(e){return ig.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{href:{type:"string"},linkDestination:{type:"string",default:"none"},linkTarget:{type:"string",default:"none"},linkNoFollow:{type:"boolean",default:!1},linkSponsored:{type:"boolean",default:!1},linkFullBlock:{type:"boolean",default:!1}})),e})),tg("editor.BlockEdit","editorskit/media-text-link",rg);var sg=wp.components.Button,ag=wp.blocks.getBlockType,cg=wp.i18n.__,lg=wp.blockEditor.BlockIcon;function ug(e){var t=e.blocks,n=e.selectedBlockClientId,o=e.selectBlock,i=e.showNestedBlocks;return(Object(l.createElement)("ul",{className:"editor-block-navigation__list block-editor-block-navigation__list",role:"list"},Object(d.map)(t,(function(e){var t=ag(e.name),r=e.clientId===n;return Object(l.createElement)("li",{key:e.clientId},Object(l.createElement)("div",{className:"editor-block-navigation__item block-editor-block-navigation__item"},Object(l.createElement)(sg,{className:p()("editor-block-navigation__item-button block-editor-block-navigation__item-button",{"is-selected":r}),onClick:function(){return o(e.clientId)}},Object(l.createElement)(lg,{icon:t.icon,showColors:!0}),t.title,r&&Object(l.createElement)("span",{className:"screen-reader-text"},cg("(selected block)")))),i&&!!e.innerBlocks&&!!e.innerBlocks.length&&Object(l.createElement)(ug,{blocks:e.innerBlocks,selectedBlockClientId:n,selectBlock:o,showNestedBlocks:!0}))}))))}var pg=wp.i18n.__,dg=wp.element,bg=dg.Component,mg=dg.Fragment,fg=wp.blockEditor.BlockControls,hg=wp.components,gg=hg.Toolbar,vg=hg.withSpokenMessages,kg=hg.IconButton,wg=hg.SVG,yg=hg.Path,Og=hg.Modal,jg=wp.data,Eg=jg.withSelect,Cg=jg.withDispatch,Sg=wp.compose,_g=Sg.compose,Ag=Sg.ifCondition,Fg=Object(l.createElement)(wg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"20",height:"20"},Object(l.createElement)(yg,{d:"M5 5H3v2h2V5zm3 8h11v-2H8v2zm9-8H6v2h11V5zM7 11H5v2h2v-2zm0 8h2v-2H7v2zm3-2v2h11v-2H10z"})),xg=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).state={isNavigationListOpen:!1},e}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.block,o=t.selectBlock,i=t.selectedBlockClientId,r=Object(l.createElement)(kg,{className:"components-toolbar__control",label:pg("Open block navigator","block-options"),onClick:function(){return e.setState({isNavigationListOpen:!0})},icon:Fg}),s=this.state.isNavigationListOpen&&Object(l.createElement)(Og,{title:pg("Block Navigator","block-options"),closeLabel:pg("Close","block-options"),onRequestClose:function(){e.setState({isNavigationListOpen:!1})}},Object(l.createElement)(ug,{blocks:[n],selectedBlockClientId:i,selectBlock:o,showNestedBlocks:!0}));return Object(l.createElement)(mg,null,Object(l.createElement)(fg,null,Object(l.createElement)(gg,null,r)),s)}}]),t}(bg),Dg=_g(Eg((function(e,t){var n=t.attributes,o=t.setAttributes,i=t.clientId,r=e("core/block-editor"),s=r.getSelectedBlockClientId;return{attributes:n,setAttributes:o,clientId:i,block:(0,r.getBlock)(i),selectedBlockClientId:s(),isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitNavigatorOptions")}})),Cg((function(e){return{selectBlock:e("core/block-editor").selectBlock}})),Ag((function(e){return!e.isDisabled})),vg)(xg);function Pg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var Tg=wp.hooks.addFilter,Ng=wp.element.Fragment,Bg=wp.compose.createHigherOrderComponent,Ig=wp.blocks.hasBlockSupport,Lg=["core/columns","core/column","core/group"];Tg("editor.BlockEdit","editorskit/media-text-link",Bg((function(e){return function(t){return Object(l.createElement)(Ng,null,Object(l.createElement)(e,t),t.isSelected&&(Lg.includes(t.name)||Ig(t.name,"editorsKitBlockNavigator"))&&Object(l.createElement)(Dg,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pg(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pg(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)))}}),"withNavigator"));var Mg=wp.i18n.__,Kg=wp.data,Rg=Kg.withSelect,zg=Kg.withDispatch,Hg=wp.compose.compose,Ug=wp.element,Vg=Ug.Component,Wg=Ug.Fragment,qg=wp.blockEditor.BlockControls,Jg=wp.components,Gg=Jg.Toolbar,$g=Jg.withSpokenMessages,Yg=Jg.Button,Qg=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.onConvertToStatic;return e.isDisabled?null:Object(l.createElement)(Wg,null,Object(l.createElement)(qg,null,Object(l.createElement)(Gg,null,Object(l.createElement)(Yg,{onClick:t,className:"editorskit-reusable-convert-controls"},Mg("Convert to Regular Blocks","block-options")))))}}]),t}(Vg),Zg=Hg(Rg((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitConvertReusableOptions")}})),zg((function(e,t){var n=t.clientId,o=e("core/notices").createNotice,i=e("core/editor").__experimentalConvertBlockToStatic;return{onConvertToStatic:function(){i(n),o("info",Mg("Reusable Block converted.","block-options"),{isDismissible:!0,type:"snackbar"})}}})),$g)(Qg);function Xg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var ev=wp.hooks.addFilter,tv=wp.element.Fragment,nv=wp.compose.createHigherOrderComponent,ov=["core/block"];ev("editor.BlockEdit","editorskit/reusable-block-convert",nv((function(e){return function(t){return Object(l.createElement)(tv,null,t.isSelected&&ov.includes(t.name)&&Object(l.createElement)(Zg,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xg(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xg(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),Object(l.createElement)(e,t))}}),"withControls"));var iv=wp.data.withSelect,rv=wp.compose.compose,sv=wp.element,av=sv.Component,cv=sv.Fragment,lv=wp.blockEditor,uv=lv.BlockControls,pv=lv.BlockVerticalAlignmentToolbar,dv=wp.components.withSpokenMessages,bv=function(e){function t(){return yt()(this,t),Ct()(this,_t()(t).apply(this,arguments))}return Dt()(t,e),jt()(t,[{key:"render",value:function(){var e=this.props,t=e.attributes,n=e.setAttributes,o=e.isDisabled,i=t.verticalAlignment;return o?null:Object(l.createElement)(cv,null,Object(l.createElement)(uv,null,Object(l.createElement)(pv,{value:i,onChange:function(e){n({verticalAlignment:e})}})))}}]),t}(av),mv=rv(iv((function(e){return{isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitCoverAlignmentOptions")}})),dv)(bv);function fv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fv(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fv(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gv=wp.hooks.addFilter,vv=wp.element.Fragment,kv=wp.compose.createHigherOrderComponent,wv=["core/cover"];var yv=kv((function(e){return function(t){return Object(l.createElement)(vv,null,Object(l.createElement)(e,t),t.isSelected&&wv.includes(t.name)&&Object(l.createElement)(mv,hv({},t)))}}),"withControls");var Ov=kv((function(e){return function(t){var n=t.name,o=t.attributes.verticalAlignment,i=t.wrapperProps,r={};return wv.includes(n)&&o&&("top"===o?r=Object.assign(r,{"data-editorskit-is-vertically-top":1}):"bottom"===o&&(r=Object.assign(r,{"data-editorskit-is-vertically-bottom":1}))),i=hv({},i,{},r),Object(l.createElement)(e,c()({},t,{wrapperProps:i}))}}),"addEditorBlockAttributes");gv("blocks.registerBlockType","editorskit/cover/attributes",(function(e){return wv.includes(e.name)&&(e.attributes=Object.assign(e.attributes,{verticalAlignment:{type:"string"}})),e})),gv("editor.BlockEdit","editorskit/cover-vertical-alignment",yv),gv("blocks.getSaveContent.extraProps","editorskit/cover/applyExtraClass",(function(e,t,n){var o=n.verticalAlignment;return wv.includes(t.name)&&o&&(e.className=p()(e.className,"is-vertically-aligned-"+o)),e})),gv("editor.BlockListBlock","editorskit/cover/addEditorBlockAttributes",Ov);var jv=wp.i18n.__,Ev=wp.element,Cv=Ev.useRef,Sv=Ev.useState,_v=Ev.useCallback,Av=Ev.Fragment,Fv=wp.components,xv=Fv.IconButton,Dv=Fv.ToggleControl,Pv=wp.blockEditor.URLPopover,Tv=wp.keycodes,Nv=Tv.LEFT,Bv=Tv.RIGHT,Iv=Tv.UP,Lv=Tv.DOWN,Mv=Tv.BACKSPACE,Kv=Tv.ENTER,Rv=function(e){var t=e.onChangeUrl,n=e.url,o=e.opensInNewTab,i=e.linkNoFollow,r=e.linkSponsored,s=e.hasAnimation,a=Sv(!1),c=Bo()(a,2),u=c[0],p=c[1],d=_v((function(){p(!0)})),b=Sv(!1),m=Bo()(b,2),f=m[0],h=m[1],g=Sv(null),v=Bo()(g,2),k=v[0],w=v[1],y=Cv(null),O=function(e){e.stopPropagation()},j=_v((function(){h(!0)})),E=_v((function(){h(!1)})),C=_v((function(){w(null),E(),p(!1)})),S=_v((function(){return function(e){var t=y.current;t&&t.contains(e.target)||(p(!1),w(null),E())}})),_=_v((function(){return function(e){k&&t({href:k}),E(),w(null),e.preventDefault()}})),A=_v((function(){t({href:""})})),F=Object(l.createElement)(Av,null,Object(l.createElement)(Dv,{label:jv("Open in New Tab","block-options"),onChange:function(e){t({opensInNewTab:e})},checked:o}),Object(l.createElement)(Dv,{label:jv("No Follow","block-options"),onChange:function(e){t({linkNoFollow:e})},checked:i}),Object(l.createElement)(Dv,{label:jv("Sponsored","block-options"),onChange:function(e){t({linkSponsored:e})},checked:r}),Object(l.createElement)(Dv,{label:jv("Hover Animation","block-options"),onChange:function(e){t({hasAnimation:e})},checked:s})),x=null!==k?k:n;return Object(l.createElement)(Av,null,Object(l.createElement)(xv,{icon:"admin-links",className:"components-toolbar__control",label:jv(n?"Edit link":"Insert link","block-options"),"aria-expanded":u,onClick:d}),u&&Object(l.createElement)(Pv,{onFocusOutside:S(),onClose:C,renderSettings:function(){return F}},(!n||f)&&Object(l.createElement)(Pv.LinkEditor,{className:"block-editor-format-toolbar__link-container-content",value:x,onChangeInputValue:w,onKeyDown:function(e){[Nv,Lv,Bv,Iv,Mv,Kv].indexOf(e.keyCode)>-1&&e.stopPropagation()},onKeyPress:O,onSubmit:_(),autocompleteRef:y}),n&&!f&&Object(l.createElement)(Av,null,Object(l.createElement)(Pv.LinkViewer,{className:"block-editor-format-toolbar__link-container-content",onKeyPress:O,url:n,onEditLinkClick:j}),Object(l.createElement)(xv,{icon:"no",label:jv("Remove link","block-options"),onClick:A}))))},zv=wp.element,Hv=zv.Component,Uv=zv.Fragment,Vv=wp.blockEditor.BlockControls,Wv=wp.components,qv=Wv.Toolbar,Jv=Wv.withSpokenMessages,Gv=wp.data.withSelect,$v=wp.compose,Yv=$v.compose,Qv=$v.ifCondition,Zv=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).onSetHref=e.onSetHref.bind(Ft()(e)),e}return Dt()(t,e),jt()(t,[{key:"onSetHref",value:function(e){this.props.setAttributes(e)}},{key:"render",value:function(){var e=this.props.attributes,t=e.href,n=e.opensInNewTab,o=e.linkNoFollow,i=e.linkSponsored,r=e.hasAnimation;return Object(l.createElement)(Uv,null,Object(l.createElement)(Vv,null,Object(l.createElement)(qv,null,Object(l.createElement)(Rv,{url:t||"",opensInNewTab:n||!1,linkNoFollow:o||!1,linkSponsored:i||!1,hasAnimation:r||!1,onChangeUrl:this.onSetHref}))))}}]),t}(Hv),Xv=Yv(Gv((function(e,t){return{attributes:t.attributes,isDisabled:e("core/edit-post").isFeatureActive("disableEditorsKitLinkBlockToolbarOptions")}})),Qv((function(e){return!e.isDisabled})),Jv)(Zv);function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var tk=wp.hooks.addFilter,nk=wp.element.Fragment,ok=wp.compose.createHigherOrderComponent,ik=wp.blocks.hasBlockSupport,rk=["core/group","core/column","core/cover"];tk("editor.BlockEdit","editorskit/block-link-toolbar",ok((function(e){return function(t){return Object(l.createElement)(nk,null,Object(l.createElement)(e,t),t.isSelected&&(rk.includes(t.name)||ik(t.name,"editorsKitLinkToolbar"))&&Object(l.createElement)(Xv,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ek(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)))}}),"withLinkToolbar"));var sk=wp.i18n.__,ak=wp.element,ck=ak.Component,lk=ak.Fragment,uk=ak.createRef,pk=wp.dom.focus,dk=wp.blocks.createBlock,bk=wp.compose,mk=bk.compose,fk=bk.ifCondition,hk=wp.data,gk=hk.select,vk=hk.withSelect,kk=hk.withDispatch,wk=hk.dispatch,yk=wp.components,Ok=yk.withSpokenMessages,jk=yk.Modal,Ek=yk.Button,Ck=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).nameInput=uk(),e.focus=e.focus.bind(Ft()(e)),e}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){this.focus()}},{key:"focus",value:function(){if(null!==this.nameInput.current){var e=pk.tabbable.find(document.querySelector(".components-modal--editorskit-transform-empty"));e.length&&(document.activeElement.blur(),e[0].focus())}}},{key:"componentDidUpdate",value:function(){this.focus()}},{key:"render",value:function(){var e=this.props,t=e.getBlocks,n=e.getBlockIndex,o=e.createSpacer,i=e.onToggle,r=e.isPrompted,s=n-2,a=function(){i(1)};if(s<0)return null;var c=t[s],u=t[s+1],p=t[s+2];return"core/paragraph"!==c.name||"core/paragraph"!==u.name||"core/paragraph"!==p.name?null:Object(d.isEmpty)(c.attributes.content)&&Object(d.isEmpty)(u.attributes.content)&&Object(d.isEmpty)(p.attributes.content)?r?(o(c.clientId,u.clientId,p.clientId),null):Object(l.createElement)(lk,null,Object(l.createElement)(jk,{title:sk("Enable Shortcut","block-options"),onRequestClose:function(){return a()},shouldCloseOnClickOutside:!1,closeLabel:sk("Close","block-options"),icon:null,className:"editorskit-modal-component components-modal--editorskit-transform-empty"},Object(l.createElement)("p",null,sk("Do you want to automatically transform three(3) consecutive empty paragraphs into Spacer Block?","block-options")),Object(l.createElement)(Ek,{isPrimary:!0,isLarge:!0,onClick:function(){i(0),o(c.clientId,u.clientId,p.clientId)},ref:this.nameInput},sk("Yes Enable","block-options")),"",Object(l.createElement)(Ek,{isDefault:!0,isLarge:!0,onClick:function(){return a()}},sk("No, Thanks","block-options")),Object(l.createElement)("p",null,Object(l.createElement)("small",null,sk("This prompt will only be shown once and will remember your preference. Thanks!","block-options"))))):null}}]),t}(ck),Sk=mk(vk((function(){var e=gk("core/block-editor"),t=e.getSelectedBlockClientId,n=e.getBlockRootClientId,o=e.getBlocks,i=e.getBlockIndex,r=e.getBlocksByClientId,s=t(),a=n(s),c=o(),l=i(s);return Object(d.isEmpty)(a)||(c=r(a)[0].innerBlocks,l=i(s,a)),{getBlocks:c,getBlockIndex:l,isDisabled:gk("core/edit-post").isFeatureActive("disableEditorsKitTransformEmptyWriting"),isPrompted:gk("core/edit-post").isFeatureActive("editorsKitTransformEmptyWriting")}})),kk((function(){return{createSpacer:function(e,t,n){var o=wk("core/block-editor"),i=o.selectBlock,r=o.replaceBlock,s=o.removeBlocks,a=dk("core/spacer",{});s([e,t]),r(n,a),i(a.clientId)},onToggle:function(e){wk("core/edit-post").toggleFeature("editorsKitTransformEmptyWriting"),e&&wk("core/edit-post").toggleFeature("disableEditorsKitTransformEmptyWriting")}}})),fk((function(e){return!e.isDisabled})),Ok)(Ck);(0,wp.plugins.registerPlugin)("editorskit-empty-to-spacer",{icon:!1,render:Sk});n(164),n(165),n(166);var _k=wp.data,Ak=_k.withSelect,Fk=_k.withDispatch,xk=_k.select,Dk=wp.compose,Pk=Dk.compose,Tk=Dk.ifCondition,Nk=wp.element,Bk=Nk.Fragment,Ik=Nk.Component,Lk=wp.keycodes.rawShortcut,Mk=wp.components,Kk=Mk.withSpokenMessages,Rk=Mk.KeyboardShortcuts,zk=function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).triggerShortcut=e.triggerShortcut.bind(Ft()(e)),e.state={isOpen:!1},e}return Dt()(t,e),jt()(t,[{key:"triggerShortcut",value:function(e){var t=this.props,n=t.parentBlockId;(0,t.onSelect)(n),e.preventDefault()}},{key:"render",value:function(){return!!this.props.parentBlockId&&Object(l.createElement)(Bk,null,Object(l.createElement)(Rk,{bindGlobal:!0,shortcuts:s()({},Lk.primaryShift("."),this.triggerShortcut)}))}}]),t}(Ik),Hk=Pk([Ak((function(){var e=xk("core/block-editor"),t=e.getSelectedBlockClientId,n=e.getBlockRootClientId,o=t();return o?{selectedBlockId:o,parentBlockId:n(o),isDisabled:xk("core/edit-post").isFeatureActive("disableEditorsKitSelectParentShortcuts")}:{}})),Fk((function(e){var t=e("core/block-editor").selectBlock;return{onSelect:function(e){t(e)}}})),Tk((function(e){return!e.isDisabled})),Kk])(zk);(0,wp.plugins.registerPlugin)("editorskit-shortcuts-select-parent",{icon:!1,render:Hk});var Uk=wp.i18n.__,Vk=wp.hooks.addFilter,Wk=wp.element.Fragment,qk=wp.data.withDispatch,Jk=wp.compose,Gk=Jk.compose,$k=Jk.createHigherOrderComponent,Yk=wp.blocks.getBlockType,Qk=wp.blockEditor.InspectorAdvancedControls,Zk=wp.components.Button,Xk=Gk(qk((function(e){var t=e("core/edit-post").hideBlockTypes,n=e("core/notices").createNotice,o=e("core/block-editor"),i=o.removeBlock,r=o.clearSelectedBlock;return{editorsKitDisableBlock:function(e,o){t(e),i(o),r();var s=Yk(e).title;n("info",s+Uk(" block has been disabled.","block-options"),{isDismissible:!0,type:"snackbar"})}}})));function ew(e){var t=new window.FileReader;return new Promise((function(n){t.onload=function(){n(t.result)},t.readAsText(e)}))}function tw(){return(tw=la()(xs.a.mark((function e(t){var n,o,i,r;return xs.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ew(t);case 2:n=e.sent,e.prev=3,o=JSON.parse(n),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(3),new Error("Invalid JSON file");case 10:if("wp_block"===o.__file&&o.title&&o.content&&Object(d.isString)(o.title)&&Object(d.isString)(o.content)){e.next=12;break}return e.abrupt("return",nw(o));case 12:return e.next=14,wp.apiFetch({path:"/wp/v2/types/wp_block"});case 14:return i=e.sent,e.next=17,wp.apiFetch({path:"/wp/v2/".concat(i.rest_base),data:{title:o.title,content:o.content,status:"publish"},method:"POST"});case 17:if(!(r=e.sent).id){e.next=20;break}return e.abrupt("return",'\x3c!-- wp:block {"ref":'+r.id+"} /--\x3e");case 20:throw new Error("Invalid Reusable Block JSON file contents");case 21:case"end":return e.stop()}}),e,null,[[3,7]])})))).apply(this,arguments)}function nw(e){if("core_block"!==e.__file||!e.content||!Object(d.isString)(e.content))throw new Error("Invalid JSON file");return e.content}Vk("editor.BlockEdit","editorskit/advanced/disable-block",$k((function(e){return Xk((function(t){var n=c()({},t),o=n.name,i=n.clientId,r=n.attributes,s=n.editorsKitDisableBlock,a=r.editorskit;return void 0!==a&&void 0!==a.unit_test&&a.unit_test&&n.isSelected?Object(l.createElement)(Wk,null,Object(l.createElement)(e,n),Object(l.createElement)(Qk,null,Object(l.createElement)("div",{className:"components-base-control components-button-control components-editorskit-disable-block"},Object(l.createElement)("div",{className:"components-base-control__field"},Object(l.createElement)(Zk,{isPrimary:!0,isLarge:!0,isDestructive:!0,onClick:function(){s(o,i)}},Uk("Remove & Disable Block","block-options"))),Object(l.createElement)("p",{className:"components-base-control__help"},Uk("Click if you want this block to be disabled on Block Manager.","block-options"))))):Object(l.createElement)(e,n)}))}),"withInspectorControl"));var ow=function(e){return tw.apply(this,arguments)},iw=wp.data,rw=iw.select,sw=iw.dispatch,aw=wp.blocks,cw=aw.parse,lw=aw.createBlock;function uw(e,t,n){t=cw(t);var o=[],i=rw("core/block-editor").getBlockInsertionPoint();if(t.length>0){for(var r in t){var s=lw(t[r].name,t[r].attributes,t[r].innerBlocks);sw("core/block-editor").insertBlocks(s,parseInt(i.index)+parseInt(r)),void 0!==s&&o.push(s.clientId)}sw("core/block-editor").removeBlock(e),o.length>0&&sw("core/block-editor").multiSelect(o[0],o.reverse()[0])}n()}var pw,dw=wp.i18n.__,bw=wp.compose.withInstanceId,mw=wp.element,fw=mw.Fragment,hw=mw.Component,gw=wp.blockEditor.MediaUploadCheck,vw=wp.components,kw=vw.DropZone,ww=vw.FormFileUpload,yw=vw.Placeholder,Ow=vw.Notice,jw=["json"],Ew=bw(function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).state={isLoading:!1,error:null},e.isStillMounted=!0,e.addFile=e.addFile.bind(Ft()(e)),e}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){var e=this.props.attributes.file;e&&(this.setState({isLoading:!0}),this.addFile(e))}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"addFile",value:function(e){var t=this,n=e[0];e.target&&(n=event.target.files[0]),n&&(this.setState({isLoading:!0}),ow(n).then((function(e){t.isStillMounted&&(t.setState({isLoading:!1}),uw(t.props.clientId,e,t.props.onClose))})).catch((function(e){if(t.isStillMounted){var n;switch(e.message){case"Invalid JSON file":n=dw("Invalid JSON file","block-options");break;case"Invalid Reusable Block JSON file":n=dw("Invalid Reusable Block JSON file","block-options");break;default:n=dw("Unknown error","block-options")}t.setState({isLoading:!1,error:n})}})))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.error;return Object(l.createElement)(yw,{icon:"download",label:dw("Import from JSON","block-options"),instructions:dw("Drag a file or upload a new one from your device.","block-options"),className:"editor-media-placeholder",notices:n&&Object(l.createElement)(Ow,{status:"error"},n)},Object(l.createElement)(fw,null,Object(l.createElement)(gw,null,Object(l.createElement)(kw,{onFilesDrop:this.addFile,label:dw("Import from JSON","block-options")}),Object(l.createElement)(ww,{isLarge:!0,className:"editor-media-placeholder__button",onChange:this.addFile,accept:jw,isBusy:t,disabled:t,multiple:!1},dw("Upload","block-options")))))}}]),t}(hw)),Cw=wp.components.SVG,Sw=Object(l.createElement)(Cw,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(l.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Object(l.createElement)("path",{d:"M9.17 6l2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})),_w=wp.blocks.createBlock,Aw={from:[{type:"files",isMatch:function(e){return"application/json"===e[0].type},priority:14,transform:function(e){var t=[];return t.push(_w("editorskit/import",{file:e})),t}}]},Fw=wp.i18n.__,xw="import",Dw="common",Pw=Fw("Import","block-options"),Tw=[Fw("import","block-options"),Fw("download","block-options"),Fw("migrate","block-options")],Nw={title:Pw,description:Fw("Import blocks exported using EditorsKit plugin.","block-options"),keywords:Tw,attributes:{file:{type:"object"}},supports:{align:!0,alignWide:!1,alignFull:!1,customClassName:!1,className:!1,html:!1},transforms:Aw,edit:Ew,save:function(){return null}},Bw=n(64),Iw=wp.i18n.__,Lw=wp.components.Spinner,Mw=function(){return Object(l.createElement)("div",{className:"wp-block-embed is-loading"},Object(l.createElement)(Lw,null),Object(l.createElement)("p",null,Iw("Loading","block-options")))},Kw=wp.i18n,Rw=Kw.__,zw=Kw.sprintf,Hw=wp.element,Uw=Hw.Fragment,Vw=Hw.RawHTML,Ww=wp.components,qw=Ww.Modal,Jw=Ww.TabPanel,Gw=Ww.Button,$w=function(e){var t=e.clientId,n=e.onClose,o=e.downloads,i=e.isInserting,r=e.setIsInserting,s=e.filterDownloads,a=function(){var e=la()(xs.a.mark((function e(o){var i,r;return xs.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(o);case 2:return i=e.sent,e.next=5,i.json();case 5:(r=e.sent)&&uw(t,r.content,n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return void 0!==o.purchased_files&&Object(l.createElement)(Uw,null,Object(l.createElement)(qw,{title:Rw("ShareABlock Patterns and Templates","block-options"),className:"editorskit-fullscreen-modal",onRequestClose:function(){n()}},Object(l.createElement)(Jw,{className:"shareablock-downloads-panel",activeClass:"is-active-tab",onSelect:function(e){s(e)},tabs:[{name:"all",title:Rw("All Downloads","block-options"),className:"shareablock-all-downloads"},{name:"block-patterns",title:Rw("Block Patterns","block-options"),className:"shareablock-block-patterns"},{name:"templates",title:Rw("Templates","block-options"),className:"shareablock-templates"}]},(function(e){return Object(l.createElement)(Uw,null,Object.keys(o.purchased_files).length<1?Object(l.createElement)("p",{className:"shareablock-no-results"},Object(l.createElement)(Vw,null,zw(Rw("No %1$s Found. %2$sClick here to browse.%3$s","block-options"),"all"!==e.name?e.title:Rw("Downloads","block-options"),'<a href="https://shareablock.com/" target="_blank">',"</a>"))):null,Object(l.createElement)("ul",{className:"shareablock-downloads"},Object(d.map)(o.purchased_files,(function(e,t){return Object(l.createElement)("li",{key:"shareablock-"+t},Object(l.createElement)("div",null,void 0!==e.thumbnail&&Object(l.createElement)("img",{src:e.thumbnail,alt:e.name})),Object(l.createElement)("h3",null,e.name),Object(l.createElement)(Gw,{isPrimary:!0,disabled:!(!i||t!==i),onClick:function(){r(t),Object(d.map)(e.files,(function(e){e.download_url&&a(e.download_url)}))}},Rw(i&&t===i?"Downloading....":"Insert","block-options")),Object(l.createElement)(Gw,{isTertiary:!0,href:"https://shareablock.com?p="+t,target:"_blank"},Rw("Preview","block-options")))}))))}))))},Yw=wp.i18n.__,Qw=wp.keycodes.ENTER,Zw=wp.element,Xw=Zw.Component,ey=Zw.Fragment,ty=wp.blockEditor.InspectorControls,ny=wp.components,oy=ny.PanelBody,iy=ny.TextControl,ry=ny.Button,sy=function(e){function t(e){var n;return yt()(this,t),(n=Ct()(this,_t()(t).apply(this,arguments))).state={apiKey:e.apiKey,accessToken:e.accessToken,hasValidApiKey:e.hasValidApiKey,isSavedKey:!1,isLoading:!0,isSaving:!1,keySaved:!1,address:e.attributes.address},n.updateApiKey=n.updateApiKey.bind(Ft()(n)),n.removeApiKey=n.removeApiKey.bind(Ft()(n)),n.handleKeyDown=n.handleKeyDown.bind(Ft()(n)),n}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){this.setState({apiKey:this.props.apiKey,accessToken:this.props.accessToken,hasValidApiKey:this.props.hasValidApiKey})}},{key:"updateApiKey",value:function(){this.props.updateApiKeyCallBack(this.state.apiKey,this.state.accessToken,this.state.hasValidApiKey)}},{key:"removeApiKey",value:function(){this.setState({apiKey:"",accessToken:""}),this.props.updateApiKeyCallBack("","")}},{key:"handleKeyDown",value:function(e){e===Qw&&this.updateApiKey()}},{key:"render",value:function(){var e=this,t=this.props,n=t.apiKey,o=t.accessToken;return Object(l.createElement)(ey,null,Object(l.createElement)(ty,null,Object(l.createElement)(oy,{title:Yw("API Settings","block-options"),initialOpen:!1,className:"components-shareablock-block-settings-sidebar"},Object(l.createElement)("p",null,Yw("Add API key and Access Token. Updating this API key will set all your downloads to use the new key.","block-options")),Object(l.createElement)(iy,{value:this.state.apiKey,onChange:function(t){return e.setState({apiKey:t})},placeholder:Yw("Enter API Key","block-options"),onKeyDown:function(t){var n=t.keyCode;return e.handleKeyDown(n)}}),Object(l.createElement)(iy,{value:this.state.accessToken,onChange:function(t){return e.setState({accessToken:t})},placeholder:Yw("Enter Access Token","block-options"),onKeyDown:function(t){var n=t.keyCode;return e.handleKeyDown(n)}}),Object(l.createElement)(ry,{isPrimary:!0,isLarge:!0,onClick:this.updateApiKey,disabled:""===this.state.apiKey&&""===this.state.accessToken||this.state.apiKey===this.props.apiKey&&this.state.accessToken===this.props.accessToken},this.state.apiKey===this.props.apiKey&&""!==this.props.apiKey&&this.state.accessToken===this.props.accessToken&&""!==this.props.accessToken?Yw("Saved","block-options"):Yw("Save","block-options")),n&&o&&Object(l.createElement)(ry,{isSecondary:!0,isLarge:!0,onClick:this.removeApiKey,disabled:this.state.apiKey!==this.props.apiKey||!this.state.apiKey},Yw("Remove","block-options")))))}}]),t}(Xw),ay=wp.i18n.__,cy=wp.compose.withInstanceId,ly=wp.element,uy=ly.Fragment,py=ly.Component,dy=wp.components,by=dy.Placeholder,my=dy.TextControl,fy=dy.Button;wp.api.loadPromise.then((function(){pw=new wp.api.models.Settings}));var hy="https://shareablock.com/edd-api/my-files",gy=cy(function(e){function t(){var e;return yt()(this,t),(e=Ct()(this,_t()(t).apply(this,arguments))).state={apiKey:"",accessToken:"",hasValidApiKey:!1,isSaving:!1,keySaved:!1,isSavedKey:!1,isLoading:!1,isInserting:0,downloads:{},filtered:{},isOpen:!1,error:null},pw.on("change:shareablock_api_key",(function(t){var n=JSON.parse(t.get("shareablock_api_key"));e.setState({apiKey:n.apiKey,accessToken:n.accessToken,hasValidApiKey:n.hasValidApiKey,isSavedKey:""!==n.apiKey})})),pw.fetch().then((function(t){if(void 0!==t.shareablock_api_key&&t.shareablock_api_key){var n=JSON.parse(t.shareablock_api_key);e.setState({apiKey:n.apiKey,accessToken:n.accessToken,hasValidApiKey:n.hasValidApiKey,isSavedKey:!0})}})),e.saveApiKey=e.saveApiKey.bind(Ft()(e)),e.updateApiKey=e.updateApiKey.bind(Ft()(e)),e.fetchDownloads=e.fetchDownloads.bind(Ft()(e)),e}return Dt()(t,e),jt()(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"updateApiKey",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.apiKey,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.accessToken,n=this.props.setAttributes;e=e.trim(),t=t.trim(),""===e&&""===t?(this.saveApiKey(e,t,!1,!1),this.setState({apiKey:e,accessToken:t}),n({hasApiKey:!1})):this.fetchDownloads(e,t)}},{key:"saveApiKey",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.apiKey,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.accessToken,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.hasValidApiKey,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this.props.setAttributes;this.setState({apiKey:t,accessToken:n,isSaving:!0});var s=new wp.api.models.Settings({shareablock_api_key:JSON.stringify({apiKey:t,accessToken:n,hasValidApiKey:o})});s.save().then((function(){e.setState({isSaving:!1,keySaved:!0}),pw.fetch(),r({hasApiKey:!0}),i&&e.onClose()}))}},{key:"fetchDownloads",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.apiKey,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state.accessToken;this.setState({isLoading:!0});var o=function(){var o=la()(xs.a.mark((function o(){var i,r;return xs.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,fetch("".concat(hy,"?key=").concat(t,"&token=").concat(n));case 2:return i=o.sent,o.next=5,i.json();case 5:(r=o.sent)&&(void 0!==r.error?(e.setState({error:r.error,isLoading:!1}),e.saveApiKey(t,n,!1)):(e.setState({downloads:r,isLoading:!1}),e.saveApiKey(t,n,!0)));case 7:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();o()}},{key:"filterDownloads",value:function(e){var t=this,n={};"all"!==e?(Object.entries(this.state.downloads.purchased_files).filter((function(t){return-1!==t[1].category.toLowerCase().search(e.toLowerCase())})).forEach((function(e){var o=Bo()(e,1)[0];n[o]=t.state.downloads.purchased_files[o]})),this.setState({filtered:{purchased_files:n}})):this.setState({filtered:{}})}},{key:"setIsInserting",value:function(e){this.setState({isInserting:e})}},{key:"onClose",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){var e=this,t=this.props,n=t.attributes,o=t.isSelected,i=this.state,r=i.error,s=i.apiKey,a=i.accessToken,u=i.isLoading,p=i.isInserting,d=i.isOpen,b=i.downloads,m=i.filtered,f=i.hasValidApiKey,h=n.hasApiKey;return Object(l.createElement)(uy,null,o&&Object(l.createElement)(sy,c()({},this.props,{apiKey:s,accessToken:a,hasValidApiKey:f,updateApiKeyCallBack:this.updateApiKey})),u?Object(l.createElement)(Mw,null):Object(l.createElement)(by,{icon:"layout",label:ay("ShareABlock from EditorsKit","block-options"),instructions:ay("Insert your downloads from shareablock.com at ease.","block-options")},Object(l.createElement)(uy,null,r||h&&!f?Object(l.createElement)("div",{className:"editorskit-inline-error notice-error notice"},ay("Invalid API or Access Token.","block-options")):null,d&&Object(l.createElement)($w,{clientId:this.props.clientId,onClose:function(){e.onClose()},setIsInserting:function(t){e.setIsInserting(t)},isInserting:p,downloads:Object.keys(m).length>0?m:b,filterDownloads:function(t){e.filterDownloads(t)}}),s&&a&&f?Object(l.createElement)(uy,null,Object(l.createElement)(fy,{isPrimary:!0,isLarge:!0,onClick:function(){e.updateApiKey()}},ay("View Downloads","block-options"))):Object(l.createElement)(uy,null,Object(l.createElement)(my,{value:s,label:ay("API Settings","block-options"),placeholder:ay("Enter Public API Key","block-options"),onChange:function(t){e.setState({apiKey:t})}}),Object(l.createElement)(my,{value:a,placeholder:ay("Enter Access Token","block-options"),onChange:function(t){e.setState({accessToken:t})}}),Object(l.createElement)(fy,{isPrimary:!0,onClick:function(){e.updateApiKey()}},ay("Apply & View Downloads","block-options")),Object(l.createElement)(fy,{isTertiary:!0,href:"https://shareablock.com/generate-api-key/",target:"_blank"},ay("Get API Key","block-options"))))))}}]),t}(py)),vy=wp.i18n.__,ky=Bw.name,wy=Bw.category,yy=Bw.attributes,Oy={title:vy("ShareABlock","block-options"),description:vy("Easily insert your downloads from shareablock.com","block-options"),icon:"layout",keywords:[vy("template","block-options"),vy("block patterns","block-options"),vy("shareablock","block-options")],attributes:yy,edit:gy,save:function(){return null}};function jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}n.d(t,"registerBlocks",(function(){return Cy}));var Ey=wp.blocks.registerBlockType;function Cy(){[o,i].forEach((function(e){if(e){var t=e.name,n=e.settings,o=e.category;Ey("editorskit/".concat(t),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jy(n,!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jy(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({category:o},n))}}))}Cy()}]);